// Layer on/off----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

$('#lin1').change(function() {
  if($(this).is(":checked")) {
      
    addLayerLine1();
    addChart1();

    $('#statisticsLines1').show();
    $('#statisticsLines2').hide();
    $('#statisticsLines3').hide();
    $('#statisticsLines5').hide();
    $('#statisticsLinesS1').hide();
    $('#statisticsLinesS2').hide();

    $('#statisticsSub1').hide();
    $('#statisticsSub2').hide();
    $('#statisticsSub3').hide();
    $('#statisticsSub4').hide();
    $('#statisticsSub5').hide();
    $('#statisticsSub6').hide();
    $('#statisticsSub7').hide();
    $('#statisticsSub8').hide();
  
      
  }else{
    $('#statisticsLines1').remove();
    map.removeSource('line1')
    map.removeLayer('line1')
    
  }
         
});

//Polyline TRAM 1----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function addLayerLine1() {

  console.log('hier');
 
  
    var geojson = {
          "type": "FeatureCollection",
          "features": [{

          //Collection-1 of data driven polylines

            "type": "Feature",
            "properties": {
              'color': '#cbcb00', //yellow
              'Name': 'Tram 1'
              },

              //Elements of Array that apply to middle force

            "geometry": {
              "type": "LineString",
              "coordinates": [
                [8.3680683, 48.9822555], //Oberreut Badenialplatz
                [8.3649731, 48.983463], //Wilhelm-Leuschner-Strasse
                [8.362264, 48.9858341], //Oberreut Zentrum
                [8.3636883, 48.9891466], //Albert-Braun-Str.
                [8.3689481, 48.9927476], //Hardecksiedlung
                [8.3724162, 48.9951587], //Bannwaldallee
                [8.3764663, 48.9988841], //Europahalle
                [8.3776224, 49.0017243], //Landesbausparkasse
                [8.3781534, 49.0060809], //Weinbrennerplatz
                [8.3790627, 49.0075113], //Sophienstrasse
                [8.3797789, 49.0100431], //Schillerstrasse
                [8.3797789, 49.0100431], //Schillerstrasse
                [8.3831745, 49.0106281], //Muhlburger Tor
                [8.3940915, 49.0100745], //Europaplatz North
                [8.40034, 49.0097519], //Herrenstrasse
                [8.4051231, 49.0095443], //Marktplatz
                [8.4094226, 49.0094097], //Kronenplatz North
                [8.418140, 49.008857], //Durlacher Tor South
                [8.418140, 49.008857], //Durlacher Tor South
                [8.425245, 49.0074111], //Gottesauer Platz
                [8.4318298, 49.0062525], //Tullastrasse
                [8.4419337, 49.004295], //Weinweg
                [8.4558865, 49.0018954], //UntermÃ¼hlstrasse
                [8.463732, 49.0003447], //Auer Strasse
                [8.463732, 49.0003447], //Auer Strasse
                [8.4691501, 48.9992466], // Friedrichschule
                [8.4742932, 48.9991371], // Schlossplatz
                [8.4780523, 49.0000755], // Turmberg
                [8.4768453, 48.9986079] // Karl-Weysser-Strasse
              ],
              "type": "LineString"
            
         
          
          }
          }]
        
      
    };

    
      // 'line-gradient' can only be used with GeoJSON sources
      // and the source must have the 'lineMetrics' option set to true
      map.addSource('line1', {
      type: 'geojson',
      lineMetrics: true,
      data: geojson
      });
      map.addLayer({
        type: 'line',
        source: 'line1',
        id: 'line1',
        paint: {
        'line-color': 'red',
        'line-width': 5,
        // 'line-gradient' must be specified using an expression
        // with the special 'line-progress' property
        'line-gradient': [
        'interpolate',
        ['linear'],
        ['line-progress'],
        0, "#41ee41",
        0.1, "#cca100",
        0.3, "#b71515",
        0.5, "#ce7f2f",
        0.8, "#cca100",
        1, "#41ee41"
        ]
        },
        layout: {
        'line-cap': 'round',
        'line-join': 'round'
        }
        });
  
        map.on('click', 'line1', function (e) {
          new mapboxgl.Popup()
          .setLngLat(e.lngLat)
          .setHTML(e.features[0].properties.Name)
          .addTo(map);
          });
           
          // Change the cursor to a pointer when the mouse is over the states layer.
          map.on('mouseenter', 'line1', function () {
          map.getCanvas().style.cursor = 'pointer';
          });
           
          // Change it back to a pointer when it leaves.
          map.on('mouseleave', 'line1', function () {
          map.getCanvas().style.cursor = '';
          });
}
  

  
  /*
  L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
  }).addTo(map);
  
  var linelayer = L.mapbox.featureLayer();
  linelayer.addTo(map);
  
  /* Fetch geoJSON manually and set styles in a predictable fashion 
  $.ajax({
    url: 'https://geoportal.karlsruhe.de/server/rest/services/Stadtplan/Stadtplan_POIs_OEPNV/MapServer/5/query?where=NAME+%3D+%27Linie%202%27&outFields=NAME&returnGeometry=true&f=geojson',
    datatype: 'json',
    success: function(data){
      console.log('TEST');
      console.log(data);
      linelayer.setGeoJSON(data);
      linelayer.setStyle({color: '#f00', weight: 10, opacity: 0.4});
    }
  });
  */
 //[8.404365,48.995532],[8.404364,48.995642],[8.4043654442994455,48.995532922468612],[8.4043556427813826,48.995491029027356],[8.4043364799197651,48.995450561313632],[8.4043083824142855,48.995412419347893],[8.4042719745941561,48.995377451875157],[8.404228067637991,48.995346437503379],[8.4041776371162698,48.995320065252351],[8.4041218068213617,48.995298923354063],[8.4040618173266939,48.995283481569984],[8.4019891955570785,48.994751721696382],[8.401849542564678,48.994722880680236],[8.4017076491739822,48.994699245911249],[8.4015639627459819,48.994680890483828],[8.4014189369298755,48.994667872755414],[8.4011655805787289,48.994644490228346],[8.4009136507522388,48.994615182925585],[8.4006634699455986,48.994579986790797],[8.4004153525691887,48.994538946606866],[8.3991641736515739,48.994254075672792],[8.3989062448756346,48.994250384161262],[8.3986482801670448,48.99425262394157],[8.3983905885463397,48.994260790887033],[8.3981334898137181,48.994274874974636],[8.3959002438813943,48.994477330568003],[8.3938773357779475,48.994626127118359],[8.3924190763227315,48.994723141788981],[8.3890752890187432,48.994967195363031],[8.3880282738090219,48.995039022265544],[8.386982365323691,48.995117537050582],[8.3859376632758291,48.995202733203037],[8.3843700617825387,48.995368060334052],[8.3842838863973483,48.995374523133805],[8.3841990638749522,48.995386438495004],[8.384116389224415,48.995403692659075],[8.384036635895173,48.995426125303219],[8.3839605521838738,48.995453526593415],[8.3838888495561843,48.995485638953056],[8.383822200850334,48.995522160599883],[8.3837901848935807,48.995565926539754],[8.3837671574796193,48.99561207361635],[8.3837535129687382,48.995659808491645],[8.3837494876179779,48.995708307771267],[8.3837551496992173,48.995756735686484],[8.3837704039910292,48.995804258829423],[8.383794983693841,48.995850058530429],[8.3838284701926771,48.995893345002926],[8.3840522620895168,48.996080683131773],[8.3842679853184929,48.996272076751723],[8.3844754674030302,48.996467375521704],[8.3846745448497906,48.996666426155024],[8.3848650613518796,48.996869071830353],[8.3850468686872759,48.997075153370531],[8.3851760051026218,48.99723018134496],[8.3852963011972665,48.997388258872093],[8.3854075916811759,48.997549166674631],[8.3855097220441497,48.997712683120234],[8.3856025530473044,48.997878583042727],[8.3856859544348907,48.998046637152946],[8.3857598112226199,48.998216614396455],[8.3858240236974417,48.998388278417458],[8.3858785002312235,48.99856139345254],[8.3859231671621011,48.99873572138403],[8.3859805308811843,48.999089944266451],[8.3860292096881324,48.999444730410012],[8.3860691865148969,48.999799986685275],[8.3862293094176561,49.001482912633094],[8.3862650381114463,49.001733187030588],[8.3862908916253449,49.001983986437018],[8.3863068537896037,49.002235142887947],[8.3863535230652424,49.002675465393949],[8.3863972871892702,49.003115916601899],[8.3864669039288327,49.003925204315657],[8.3864799366869889,49.003978319201615],[8.3865019463097727,49.004030137570595],[8.3865326516244938,49.004080003536224],[8.3865716681522287,49.004127288911555],[8.3866185027178677,49.004171394387477],[8.3866725633316594,49.004211764853608],[8.3867331672740093,49.0042478905767],[8.386799549180223,49.004279313682026],[8.3868708709222073,49.004305638760286],[8.3869701149981726,49.00432562240357],[8.3870715329971155,49.004340133831882],[8.387174427826384,49.00434907345894],[8.3872780952068258,49.00435238117943],[8.3873818218760405,49.004350032833443],[8.3874848963683633,49.004342044920364],[8.3875866144046345,49.00432847342077],[8.3877113356003488,49.00427901785482],[8.3878314717948754,49.004224872018341],[8.3879466160513676,49.004166220346406],[8.3883010670079656,49.003971413185347],[8.3886614513370272,49.003781376849716],[8.3890276208164973,49.003596190361009],[8.3892254855376116,49.003508254146666],[8.3894280744987917,49.00342510354205],[8.3896351173071828,49.003346847003847],[8.3898463435698218,49.003273590041452],[8.3900614730123841,49.0032054263772],[8.3902802235638454,49.003142448553866],[8.3905023050683774,49.003084737326652],[8.3907274246751928,49.003032370503128],[8.3909552859402847,49.002985415871116],[8.3913970405660976,49.002906154451843],[8.391841287118492,49.002833169693737],[8.3922878171883415,49.002766494036713],[8.3927364250614449,49.002706158739848],[8.3931869050235992,49.002652193292001],[8.3939292673845181,49.00256568568436],[8.3939935696908492,49.00256710417154],[8.3940566961025169,49.00257528448676],[8.3941170116856298,49.002590015061799],[8.3941729605581532,49.002610916960066],[8.3942230937375353,49.002637447413107],[8.3942661149547959,49.002668922805164],[8.3943009120956624,49.002704526334952],[8.3943265868448051,49.002743339840357],[8.3943424735505729,49.002784359121272],[8.3945341398962476,49.004390227544604],[8.394725321151622,49.006684604178446],[8.3947443007569618,49.007059494957787],[8.3947740305013028,49.007434084159918],[8.394814499604843,49.007808236852043],[8.3948323536211227,49.008027640333864],[8.3948416134550694,49.008247274424285],[8.3948422728184724,49.008466991808284],[8.3949692595653644,49.009790756198896],[8.3949711864516381,49.009820619645794],[8.3949653465039749,49.009850260934613],[8.3949519113005842,49.009878813896187],[8.3949312734052359,49.009905442414173],[8.394904037384137,49.009929366939915]
 //[8.3948710000429507,49.009949886882715],[8.3948331306638444,49.009966402410726],[8.394747430487417,49.009985615426842],[8.3924303402980698,49.010104261985951],[8.3899640534147579,49.010239523868286],[8.3898713059549337,49.010258197047563],[8.3897812785937873,49.010281941689811],[8.3896946109318193,49.010310591626109],[8.3896119201116015,49.010343941208312],[8.3895337927330047,49.010381754147751],[8.3894607857515648,49.010423761747838],[8.3893934156985104,49.010469664672229],[8.3893396659017814,49.010499952542126],[8.3892808594883572,49.010525860107876],[8.3892178202132772,49.010547025593254],[8.3891514266289686,49.010563153214569],[8.3890826048984053,49.010574017893518],[8.3890123162190147,49.010579468792628],[8.3889188797513512,49.010576836734941],[8.3888260694094647,49.01056926699048],[8.3887344861662463,49.010556808462482],[8.3886447229098131,49.010539543049262],[8.3885573644433755,49.010517579163022],[8.3884374707939653,49.010488652410679],[8.3883150492853549,49.010464739938143],[8.3881905850078127,49.010445937796227],[8.3880645711363755,49.010432319054523],[8.3879375044394404,49.010423938515196],[8.3878098870752176,49.010420829177413],[8.3855484115851411,49.010503976939177],[8.3849079693814055,49.01052673687208],[8.3844811932646639,49.01052684057538],[8.3841049599590445,49.010534349047099],[8.3812859414945766,49.010662021175584],[8.3801749383888389,49.010715538384503],[8.3801165784381055,49.010715701598727],[8.3778751506501852,49.010819975938098],[8.3751430145450598,49.010935809937038],[8.3750781292321097,49.010948347325467],[8.3750164760575174,49.010966628408887],[8.3749592228312082,49.010990306131667],[8.374907456514638,49.011018931502427],[8.3748621553731777,49.011051962432923],[8.3748241808911761,49.01108877257716],[8.3747942499242196,49.011128664883948],[8.3747729329025304,49.011170883382299],[8.3747606313730447,49.011214627322836],[8.3747575771010805,49.011259068265872],[8.3747638320704034,49.011303363633338],[8.3749383711368157,49.012920728275482],[8.3749494329912402,49.013066031786913],[8.3749551049539477,49.013211470388249],[8.3749553870249347,49.013356957467458],[8.3749415367998878,49.013435111074649],[8.3749352342198513,49.013513685828499],[8.3749365062343077,49.013592364155286],[8.3749453465550108,49.013670832607453],[8.3749617201477058,49.013748775382794],[8.3750930655203497,49.014927304363916],[8.3750985551250441,49.014964701991929],[8.3750942360251344,49.015002166168074],[8.3750802357814358,49.015038592198685],[8.3750569667206545,49.01507290485177],[8.3750251151556032,49.015104094295836],[8.3749856225207751,49.015131238487662],[8.3749423282156634,49.015153375321603],[8.3748947902691295,49.015171355563432],[8.3748439249628142,49.015184833375962],[8.3747907132569459,49.015193550118056],[8.3747361792309842,49.015197336700929],[8.3746813739138322,49.015196119479846],[8.3736020067774426,49.015234619238392],[8.3734707656093974,49.015241584966027],[8.3733406033179971,49.015254643272378],[8.3732121711818088,49.015273726398455],[8.3730861150895759,49.015298738892341],[8.3729630647602615,49.015329555841745],[8.3728436382348086,49.01536602287441],[8.3726245283572425,49.015428337745902],[8.3724087090085408,49.015495436555142],[8.3721964209372324,49.015567243869889],[8.3719878995019208,49.015643678954461],[8.3717833809594726,49.015724656948272],[8.3715830925837267,49.015810087687498],[8.3681775173578821,49.017314276614464],[8.3680247552505715,49.017368530759192],[8.3678764856179804,49.017427930996966],[8.3677331064137856,49.017492317063088],[8.3675950075068286,49.017561515731018],[8.3674625599013481,49.017635339634424],[8.3673361211267849,49.017713589624002],[8.3672160343396307,49.017796054178639],[8.3671026229333059,49.017882511172957],[8.3649418369084572,49.01958315579909],[8.3644285593180427,49.019878481178246],[8.3611012534046019,49.021668722113041],[8.3580754562364579,49.023302844870678],[8.3575245931345528,49.023600444367403],[8.3569681092739412,49.023893489200695],[8.3564060944861005,49.024181934093242],[8.3558386350093201,49.024465733767556],[8.3529082703653899,49.025937627322456],[8.3526487866057089,49.026066185917259],[8.3523944376161339,49.026199110717194],[8.3521453967716113,49.026336311564791],[8.3519018257688469,49.026477697713297],[8.3516638907961731,49.026623173703783],[8.351431748160449,49.026772643488279],[8.351205554168537,49.026926007484839],[8.3507655279013413,49.027229791288228],[8.3503176791046503,49.027528593055884],[8.3498621380341849,49.027822323935609],[8.3493990385389054,49.028110901555181],[8.349146073853225,49.028272916977322],[8.348886857791479,49.028430602049518],[8.3486215583386212,49.02858385196928],[8.348350353361079,49.028732564290166],[8.3480734225219031,49.028876640688914],[8.3477909472808101,49.029015986376073],[8.3466623362971983,49.02964286338463],[8.4043642198957365,48.995642936936441],[8.4043656670816596,48.995575308613169],[8.4043654442994455,48.995532922468612],[8.4043642198957365,48.995642936936441],[8.4043750823241368,48.995681969307505],[8.4043957714234558,48.995719242882892],[8.4044256970004962,48.995753694392377],[8.4044640047574877,48.995784340726374],[8.4045096032413191,48.995810308994393],[8.4045611916914318,48.995830857742057],[8.4046173004640732,48.995845401704855],[8.404676328761413,48.995853526542007],[8.4047365913439318,48.995854998855457],[8.4047963724294412,48.995849777388067],[8.4066441207306131,48.995837881587825],[8.4068010420377171,48.995837452506713],[8.4069577971564922,48.995842226033659],[8.4071139872349274,48.995852192147346],[8.4089630147370666,48.996037735134628],[8.4091934326074291,48.996056328177517],
 //[8.4094248242515803,48.99606862176681],[8.4096567908175057,48.996074595278387],[8.4097347609909097,48.996078181742597],[8.409811274995219,48.996088687104717],[8.4098849197805325,48.996105916860422],[8.4099543379924349,48.996129555677157],[8.4100182459383745,48.996159165037135],[8.4100754677236509,48.996194199741318],[8.4101249469295123,48.996234014393558],[8.4102176297106457,48.996346308846036],[8.4106417890349778,48.996930562908375],[8.4107330407998333,48.997061948844106],[8.4107637730640334,48.997122866804823],[8.4107863531170093,48.997185310009506],[8.4108006102788764,48.997248807537439],[8.410806439446775,48.997312879629618],[8.4107833958630973,48.997733874090905],[8.4106446555590484,48.999686461201769],[8.4105899778026512,49.000423115740283],[8.410562383353744,49.000794871231037],[8.4105113752152914,49.001482053389537],[8.4104586629727098,49.002720835648432],[8.4104485452476663,49.002958603322554],[8.4104158546561614,49.004648864130338],[8.4104209229510172,49.00470008661641],[8.4102650248250406,49.006214818646193],[8.4102168724308601,49.006464385119934],[8.4101777256474133,49.006716971521939],[8.4101341277117143,49.006963587384021],[8.4100928114968454,49.007214995675128],[8.4100703401400203,49.007475993483624],[8.4100174976417588,49.007734104335867],[8.4100155869251321,49.007995516614685],[8.4100239619185384,49.008256875077812],[8.410042617232028,49.008518001773481],[8.4100715402892412,49.008778724646064],[8.4101107131238368,49.009038867518868],[8.4101279526924682,49.009084362198031],[8.4101545086888958,49.009127873454375],[8.4101898816498348,49.00916857871497],[8.4102334023303822,49.009205710208349],[8.410284249670422,49.009238566159517],[8.4103414651674875,49.009266527287522],[8.4104039654533747,49.009289063875727],[8.4104705728367612,49.009305753448068],[8.410525507511327,49.009314077019553],[8.4105400287779073,49.009316277822094],[8.4107492041867413,49.009305705719797],[8.4109461139987047,49.009295754082721],[8.412202892115495,49.009235231069333],[8.4126292029049434,49.009215307141659],[8.4146069455125581,49.009122853130719],[8.416434070291432,49.009060731297339],[8.4166457708645392,49.009042620983216],[8.4168351222516939,49.009023906690416],[8.4170056476454427,49.009004445821823],[8.417160869340039,49.008984094012504],[8.4173043096296354,49.008962708664697],[8.4174394926051797,49.008940146002125],[8.4175699396625259,49.008916262248007],[8.4176991739942562,49.008890914214504],[8.4178307187928869,49.008863958124081],[8.4179680963526398,49.008835251377207],[8.4181148289678003,49.008804649017002],[8.4182744398308476,49.008772008442818],[8.4184504521343655,49.008737185875077],[8.4186463872742472,49.008700037533437],[8.4188657684430392,49.008660419636776],[8.419112117934958,49.008618188992465],[8.4224718611150227,49.007980034572675],[8.4230399664804843,49.007869258930988],[8.4236064387087541,49.007754928061026],[8.4248009950173905,49.007531904150568],[8.4262376823293756,49.007263656946549],[8.4292274822074305,49.006721758148657],[8.42958428136021,49.006653367621396],[8.4309950019705973,49.006382954822996],[8.4310446509580093,49.006373437484804],[8.4312226521315683,49.006339315652816],[8.4316786953602811,49.006251894004208],[8.4320653140888773,49.006177778617037],[8.4323009305098111,49.006132609508484],[8.4334158161342021,49.005924366258974],[8.4340432291730352,49.005807168794682],[8.4358380092117855,49.005471893766341],[8.4366633714133918,49.005315811284866],[8.4393823355214774,49.004801586797008],[8.4425786275406693,49.004200865785627],[8.44332812072828,49.004057753347219],[8.4439802922346487,49.003933219992746],[8.4456046259313968,49.003623030263618],[8.4482095489141944,49.003183472809802],[8.4503578456616655,49.002829712775771],[8.4525062951227081,49.00245925954588],[8.4548103534522312,49.002075224964109],[8.4563174013088407,49.001823006330127],[8.4576829501351813,49.001612926979512],[8.4584263653215999,49.00149320057119],[8.458535761258597,49.001474606611104],[8.4589584518374394,49.001396133669985],[8.4593783908765428,49.001311502672039],[8.4597953663735517,49.001220756017851],[8.460302171602347,49.001112705156302],[8.4614988254771717,49.000857567962285],[8.4639850899940665,49.000329071856157],[8.4641330640809471,49.000295817522819],[8.4642226108434127,49.000272243153773],[8.4642782417123303,49.000257597348174],[8.4644202366126304,49.000214513277555],[8.4644634994767447,49.000180463840373],[8.4644992057126398,49.000142811117612],[8.464526669905835,49.000102275871974],[8.4645453683384506,49.000059634266734],[8.464554941684451,49.000015703132313],[8.4645552075857591,48.999971322875801],[8.4645461597542262,48.999927343336893],[8.4645279751579174,48.999884605517963],[8.4645009960549888,48.999843929796945],[8.4644399106156953,48.999779958792736],[8.4642491345004789,48.999580172712655],[8.4637523697416093,48.999059940010007],[8.463434051720693,48.998726575651027],[8.4628990852060575,48.998166312320095],[8.462798262790157,48.99805749454368],[8.4626901721052761,48.997951740085753],[8.4625750305437428,48.997849259372096],[8.4624530635826645,48.997750255757076],[8.4623245137671894,48.997654926112936],[8.4621896389138165,48.997563459650671],[8.4620827124455396,48.997462055520906],[8.4619837863731799,48.997357195065675],[8.4618931194115685,48.997249149378071],[8.4618109460209432,48.997138202519409],[8.461206944875034,48.996148031396466],[8.4611177825915256,48.996003909759231],[8.4610198797002933,48.995862266118692],[8.4609133907115694,48.995723330950739],[8.4607984916951544,48.995587327660751],[8.4606753650090205,48.995454478477065],[8.4605442127741863,48.995324997378326],[8.4604052478912966,48.995199094218812],
 //[8.4602586958375543,48.995076974728455],[8.4601047928697977,48.994958834618288],[8.4599437878214214,48.994844867242847],[8.4597759430004782,48.994735255937222],[8.4595975735176747,48.994624964209613],[8.4594132724590363,48.994518977897791],[8.4592232823697131,48.994417436130966],[8.4590278502863736,48.994320470375868],[8.4588272295339664,48.994228206204866],[8.458621682420576,48.994140763295718],[8.4584114748474448,48.994058258378686],[8.4581968816991182,48.99398079521599],[8.4580345749919132,48.993907097737043],[8.4578771587130746,48.993828940590973],[8.4577249176286138,48.993746463449746],[8.4575781239280516,48.993659815415882],[8.4574370435126642,48.993569150896747],[8.4573019279108035,48.993474633730564],[8.4571730223624773,48.993376434239558],[8.4570989418942375,48.993315538221417],[8.4570183198941358,48.993258354933531],[8.4569315839601877,48.993205186176041],[8.4568391949281736,48.993156314887564],[8.4567416423798747,48.993112000429655],[8.4566394455415832,48.993072479765274],[8.4565331460973816,48.99303796038533],[8.4563713568197709,48.992993166614951],[8.4562061458592179,48.992954155714344],[8.45603799022118,48.992921039099642],[8.4558673740975898,48.992893911091755],[8.4556947906635251,48.992872853042066],[8.4555207375856423,48.992857923901497],[8.4553457179205491,48.99284916670419],[8.4552178786724426,48.992838647691322],[8.4550913671343473,48.992822619248443],[8.4549667321768904,48.992801150333783],[8.4548445127892258,48.992774334660254],[8.4547252371807513,48.992742287158826],[8.4546094227810578,48.992705145746953],[8.4544975717483926,48.992663074276145],[8.4543901664780972,48.992616253101005],[8.4531595329293321,48.99208225199262],[8.4530647983960954,48.992042908522869],[8.452976006218492,48.991997961781657],[8.4528939181678258,48.991947797249601],[8.4528192403199185,48.991892848741522],[8.4527526149702581,48.99183358543948],[8.4526946116506725,48.991770517787643],[8.4526457307228124,48.991704187472351],[8.4526063925981845,48.991635163886308],[8.4525769332467693,48.991564040002672],[8.4525576068917481,48.9914914270705],[8.4525485779248228,48.99141794813135],[8.4525045694590517,48.991087894280135],[8.4524509589012062,48.990758455404091],[8.4522527725832326,48.990039007678376],[8.4522161033533472,48.98989556865439],[8.4521884235644826,48.989751259750513],[8.4521697799290898,48.989606324410673],[8.4521602029898339,48.989461007849933],[8.4521597089164313,48.989315554107357],[8.4521682977088464,48.98917021017219],[8.4522905404527346,48.987912211268082],[8.452311381367327,48.987803665837703],[8.4523429346916767,48.987696244924258],[8.4523850647801826,48.987590408340999],[8.4524375919697956,48.987486604704387],[8.4525002943766321,48.987385276149901],[8.4525729025060929,48.987286854205415],[8.4529556162581407,48.98693039098994],[8.4531279535538353,48.986833509109488],[8.4533061334921165,48.986741318909004],[8.4534898605273092,48.986653973096509],[8.4536788328254211,48.986571616716141],[8.4538727350778036,48.986494384789836],[8.454071249280851,48.986422405264875],[8.4542740457528947,48.986355797834314],[8.4544807885239557,48.986294672168583],[8.4546911371325653,48.986239130273198],[8.4549763387605488,48.986152894809941],[8.4552584205395469,48.986062325689389],[8.4555372324509115,48.985967471228008],[8.455812622679332,48.985868383278685],[8.4560844430028528,48.98576511428309],[8.4563410243058783,48.985636798237394],[8.4565918923236989,48.985503679636771],[8.4568368413421116,48.985365869862164],[8.4570756683418704,48.985223480884059],[8.4573081747952852,48.985076631747035],[8.4575341693612085,48.984925444443654],[8.457753466088338,48.98477004155621],[8.4579658835170619,48.984610553920952],[8.4592751546874752,48.983543691997035],[8.459351489028732,48.983478645366588],[8.4594213941275278,48.983410539506906],[8.4594845870145132,48.983339648543783],[8.4595408107715144,48.983266260753318],[8.459741105435441,48.983007942912472],[8.4598054796070432,48.982952846000977],[8.4598762084609103,48.982901234449173],[8.4599528581108476,48.982853423087967],[8.4600349551446836,48.98280970788305],[8.4610480535625268,48.98238381425103],[8.4611176146065681,48.982347970395828],[8.4611805999827236,48.982307198406666],[8.4612362101903731,48.982262017082178],[8.4612837355604817,48.982213001819282],[8.461322574221791,48.982160776359997],[8.4613522303042679,48.982106003948779],[8.4613723274138,48.982049382026922],[8.4613826095305438,48.981991630442074],[8.461382945500457,48.981933483784033],[8.4613733317302859,48.981875683131214],[8.4613538903909049,48.981818961901148],[8.4613248703156376,48.981764042312903],[8.4612866371188389,48.981711623006113],[8.461204697290194,48.981600688709364],[8.4611139216324354,48.981492776285336],[8.4610145652670639,48.981388188791506],[8.4609069075701502,48.98128722339181],[8.460791253968905,48.981190164281138],[8.4606679314500717,48.981097286812236],[8.46053229123204,48.981007765017296],[8.4604036875176725,48.98091385014844],[8.4602824517852291,48.980815782137689],[8.4601688903602579,48.980713812120037],[8.4600632933986191,48.980608198306257],[8.4599659312931728,48.98049921128986],[8.4585272218734886,48.978841324750796],[8.4585004107555175,48.978806014882593],[8.4584649174203328,48.978774196004991],[8.4584217614557744,48.978746785541205],[8.4583721870284894,48.978724572972375],[8.4583176224598251,48.978708196252335],[8.4582596353099202,48.978698128835518],[8.4581998982418369,48.978694659040144],[8.4581366918801297,48.978693104854756],[8.4580739328794454,48.978698283900272],[8.4580132678516584,48.97871006233553],[8.4579562850182413,48.978728130615984],[8.4579044773792038,48.978752014107535],[8.4578592040854872,48.978781087826896],[8.457823509527687,48.978828529879102],[8.4577960641991314,48.978878293132446],[8.4577772067646961,48.978929757913527],[8.4577671725829511,48.978982285094339],[8.45776608741809,48.979035221399357],[8.4577975823519598,48.979076192990156],[8.4578364803020776,48.979114309728615],[8.4578821919736118,48.979148994408206],[8.4579340292570855,48.979179723476527],[8.45799120343165,48.979206031161681],[8.4580528521146565,48.979227518905446],[8.4581180419565243,48.979243863027193],[8.458283102000097,48.97927015416991],[8.4584454796742055,48.979302897212307],[8.4586045892773409,48.979341974812748],[8.4587598639724977,48.979387246633564],[8.4588694638270692,48.979434256528066],[8.4589727377453823,48.979487112168762],[8.4590689643802968,48.979545443864239],[8.4591574789785309,48.979608847137108]


// On/Off TRAM 2--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

$('#lin2').change(function() {
  if($(this).is(":checked")) {
      
    addLayerLine2();
    addChart2();
    $('#statisticsLines2').show();
    $('#statisticsLines1').hide();
    $('#statisticsLines3').hide();
    $('#statisticsLines5').hide();
    $('#statisticsLinesS1').hide();
    $('#statisticsLinesS2').hide();

    $('#statisticsSub1').hide();
    $('#statisticsSub2').hide();
    $('#statisticsSub3').hide();
    $('#statisticsSub4').hide();
    $('#statisticsSub5').hide();
    $('#statisticsSub6').hide();
    $('#statisticsSub7').hide();
    $('#statisticsSub8').hide();
      
  }else{
    
    $('#statisticsLines2').remove();
    map.removeSource('line2')
    map.removeLayer('line2')
  }
         
});
// [8.4017076491739822,48.994699245911249],[8.4015639627459819,48.994680890483828],[8.4014189369298755,48.994667872755414],[8.4011655805787289,48.994644490228346],[8.4009136507522388,48.994615182925585],[8.4006634699455986,48.994579986790797],[8.4004153525691887,48.994538946606866],[8.3991641736515739,48.994254075672792],[8.3989062448756346,48.994250384161262],[8.3986482801670448,48.99425262394157],[8.3983905885463397,48.994260790887033],[8.3981334898137181,48.994274874974636],[8.3959002438813943,48.994477330568003],[8.3938773357779475,48.994626127118359],[8.3924190763227315,48.994723141788981],[8.3890752890187432,48.994967195363031],[8.3880282738090219,48.995039022265544],[8.386982365323691,48.995117537050582],[8.3859376632758291,48.995202733203037],[8.3843700617825387,48.995368060334052],[8.3842838863973483,48.995374523133805],[8.3841990638749522,48.995386438495004],[8.384116389224415,48.995403692659075],[8.384036635895173,48.995426125303219],[8.3839605521838738,48.995453526593415],[8.3838888495561843,48.995485638953056],[8.383822200850334,48.995522160599883],[8.3837901848935807,48.995565926539754],[8.3837671574796193,48.99561207361635],[8.3837535129687382,48.995659808491645],[8.3837494876179779,48.995708307771267],[8.3837551496992173,48.995756735686484],[8.3837704039910292,48.995804258829423],[8.383794983693841,48.995850058530429],[8.3838284701926771,48.995893345002926],[8.3840522620895168,48.996080683131773],[8.3842679853184929,48.996272076751723],[8.3844754674030302,48.996467375521704],[8.3846745448497906,48.996666426155024],[8.3848650613518796,48.996869071830353],[8.3850468686872759,48.997075153370531],[8.3851760051026218,48.99723018134496],[8.3852963011972665,48.997388258872093],[8.3854075916811759,48.997549166674631],[8.3855097220441497,48.997712683120234],[8.3856025530473044,48.997878583042727],[8.3856859544348907,48.998046637152946],[8.3857598112226199,48.998216614396455],[8.3858240236974417,48.998388278417458],[8.3858785002312235,48.99856139345254],[8.3859231671621011,48.99873572138403],[8.3859805308811843,48.999089944266451],[8.3860292096881324,48.999444730410012],[8.3860691865148969,48.999799986685275],[8.3862293094176561,49.001482912633094],[8.3862650381114463,49.001733187030588],[8.3862908916253449,49.001983986437018],[8.3863068537896037,49.002235142887947],[8.3863535230652424,49.002675465393949],[8.3863972871892702,49.003115916601899],[8.3864669039288327,49.003925204315657],[8.3864799366869889,49.003978319201615],[8.3865019463097727,49.004030137570595],[8.3865326516244938,49.004080003536224],[8.3865716681522287,49.004127288911555],[8.3866185027178677,49.004171394387477],[8.3866725633316594,49.004211764853608],[8.3867331672740093,49.0042478905767],[8.386799549180223,49.004279313682026],[8.3868708709222073,49.004305638760286],[8.3869701149981726,49.00432562240357],[8.3870715329971155,49.004340133831882],[8.387174427826384,49.00434907345894],[8.3872780952068258,49.00435238117943],[8.3873818218760405,49.004350032833443],[8.3874848963683633,49.004342044920364],[8.3875866144046345,49.00432847342077],[8.3877113356003488,49.00427901785482],[8.3878314717948754,49.004224872018341],[8.3879466160513676,49.004166220346406],[8.3883010670079656,49.003971413185347],[8.3886614513370272,49.003781376849716],[8.3890276208164973,49.003596190361009],[8.3892254855376116,49.003508254146666],[8.3894280744987917,49.00342510354205],[8.3896351173071828,49.003346847003847],[8.3898463435698218,49.003273590041452],[8.3900614730123841,49.0032054263772],[8.3902802235638454,49.003142448553866],[8.3905023050683774,49.003084737326652],[8.3907274246751928,49.003032370503128],[8.3909552859402847,49.002985415871116],[8.3913970405660976,49.002906154451843],[8.391841287118492,49.002833169693737],[8.3922878171883415,49.002766494036713],[8.3927364250614449,49.002706158739848],[8.3931869050235992,49.002652193292001],[8.3939292673845181,49.00256568568436],[8.3939935696908492,49.00256710417154],[8.3940566961025169,49.00257528448676],[8.3941170116856298,49.002590015061799],[8.3941729605581532,49.002610916960066],[8.3942230937375353,49.002637447413107],[8.3942661149547959,49.002668922805164],[8.3943009120956624,49.002704526334952],[8.3943265868448051,49.002743339840357],[8.3943424735505729,49.002784359121272],[8.3945341398962476,49.004390227544604],[8.394725321151622,49.006684604178446],[8.3947443007569618,49.007059494957787],[8.3947740305013028,49.007434084159918],[8.394814499604843,49.007808236852043],[8.3948323536211227,49.008027640333864],[8.3948416134550694,49.008247274424285],[8.3948422728184724,49.008466991808284],[8.3949692595653644,49.009790756198896],[8.3949711864516381,49.009820619645794],[8.3949653465039749,49.009850260934613],[8.3949519113005842,49.009878813896187],[8.3949312734052359,49.009905442414173],[8.394904037384137,49.009929366939915],[8.3948710000429507,49.009949886882715],[8.3948331306638444,49.009966402410726],[8.394747430487417,49.009985615426842],[8.3924303402980698,49.010104261985951],[8.3899640534147579,49.010239523868286],[8.3898713059549337,49.010258197047563],[8.3897812785937873,49.010281941689811],[8.3896946109318193,49.010310591626109],[8.3896119201116015,49.010343941208312],[8.3895337927330047,49.010381754147751],[8.3894607857515648,49.010423761747838],[8.3893934156985104,49.010469664672229],[8.3893396659017814,49.010499952542126],[8.3892808594883572,49.010525860107876],[8.3892178202132772,49.010547025593254],[8.3891514266289686,49.010563153214569],[8.3890826048984053,49.010574017893518],[8.3890123162190147,49.010579468792628],[8.3889188797513512,49.010576836734941],[8.3888260694094647,49.01056926699048],[8.3887344861662463,49.010556808462482],[8.3886447229098131,49.010539543049262],[8.3885573644433755,49.010517579163022],[8.3884374707939653,49.010488652410679],[8.3883150492853549,49.010464739938143],[8.3881905850078127,49.010445937796227],[8.3880645711363755,49.010432319054523],[8.3879375044394404,49.010423938515196],[8.3878098870752176,49.010420829177413],[8.3855484115851411,49.010503976939177],[8.3849079693814055,49.01052673687208],[8.3844811932646639,49.01052684057538],[8.3841049599590445,49.010534349047099],[8.3812859414945766,49.010662021175584],[8.3801749383888389,49.010715538384503],[8.3801165784381055,49.010715701598727],[8.3778751506501852,49.010819975938098],[8.3751430145450598,49.010935809937038]
                // Europa-Platz Tivoli
              //  ,[8.3750781292321097,49.010948347325467],[8.3750164760575174,49.010966628408887],[8.3749592228312082,49.010990306131667],[8.374907456514638,49.011018931502427],[8.3748621553731777,49.011051962432923],[8.3748241808911761,49.01108877257716],[8.3747942499242196,49.011128664883948],[8.3747729329025304,49.011170883382299],[8.3747606313730447,49.011214627322836],[8.3747575771010805,49.011259068265872],[8.3747638320704034,49.011303363633338],[8.3749383711368157,49.012920728275482],[8.3749494329912402,49.013066031786913],[8.3749551049539477,49.013211470388249],[8.3749553870249347,49.013356957467458],[8.3749415367998878,49.013435111074649],[8.3749352342198513,49.013513685828499],[8.3749365062343077,49.013592364155286],[8.3749453465550108,49.013670832607453],[8.3749617201477058,49.013748775382794],[8.3750930655203497,49.014927304363916],[8.3750985551250441,49.014964701991929],[8.3750942360251344,49.015002166168074],[8.3750802357814358,49.015038592198685],[8.3750569667206545,49.01507290485177],[8.3750251151556032,49.015104094295836],[8.3749856225207751,49.015131238487662],[8.3749423282156634,49.015153375321603],[8.3748947902691295,49.015171355563432],[8.3748439249628142,49.015184833375962],[8.3747907132569459,49.015193550118056],[8.3747361792309842,49.015197336700929],[8.3746813739138322,49.015196119479846],[8.3736020067774426,49.015234619238392],[8.3734707656093974,49.015241584966027],[8.3733406033179971,49.015254643272378],[8.3732121711818088,49.015273726398455],[8.3730861150895759,49.015298738892341],[8.3729630647602615,49.015329555841745],[8.3728436382348086,49.01536602287441],[8.3726245283572425,49.015428337745902],[8.3724087090085408,49.015495436555142],[8.3721964209372324,49.015567243869889],[8.3719878995019208,49.015643678954461],[8.3717833809594726,49.015724656948272],[8.3715830925837267,49.015810087687498],[8.3681775173578821,49.017314276614464],[8.3680247552505715,49.017368530759192],[8.3678764856179804,49.017427930996966],[8.3677331064137856,49.017492317063088],[8.3675950075068286,49.017561515731018],[8.3674625599013481,49.017635339634424],[8.3673361211267849,49.017713589624002],[8.3672160343396307,49.017796054178639],[8.3671026229333059,49.017882511172957],[8.3649418369084572,49.01958315579909],[8.3644285593180427,49.019878481178246],[8.3611012534046019,49.021668722113041],[8.3580754562364579,49.023302844870678],[8.3575245931345528,49.023600444367403],[8.3569681092739412,49.023893489200695],[8.3564060944861005,49.024181934093242],[8.3558386350093201,49.024465733767556],[8.3529082703653899,49.025937627322456],[8.3526487866057089,49.026066185917259],[8.3523944376161339,49.026199110717194],[8.3521453967716113,49.026336311564791]
                //Siemensallee - Europaplatz
                //,[8.404365,48.995532],[8.404364,48.995642],[8.4043654442994455,48.995532922468612],[8.4043556427813826,48.995491029027356],[8.4043364799197651,48.995450561313632],[8.4043083824142855,48.995412419347893],[8.4042719745941561,48.995377451875157],[8.404228067637991,48.995346437503379],[8.4041776371162698,48.995320065252351],[8.4041218068213617,48.995298923354063],[8.4040618173266939,48.995283481569984],[8.4019891955570785,48.994751721696382],[8.401849542564678,48.994722880680236]



//Polyline TRAM 2----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function addLayerLine2() {
  console.log('hier');
 
  
    var geojson2 = {
          "type": "FeatureCollection",
          "features": [{


          //Collection-1 of data driven polylines

            "type": "Feature",
            "properties": {
              'color': '#cca100',
              'Name': 'Line T2' //yellow
              },

              //Elements of Array that apply to middle force

            "geometry": {
              "type": "LineString",
              "coordinates": [

              [8.352145396771611,49.02633631156479],[8.352394437616134,49.026199110717194],[8.352648786605709,49.02606618591726],[8.35290827036539,49.025937627322456],[8.35583863500932,49.024465733767556],[8.3564060944861,49.02418193409324],[8.356968109273941,49.023893489200695],[8.357524593134553,49.0236004443674],[8.358075456236458,49.02330284487068],[8.361101253404602,49.02166872211304],[8.364428559318043,49.019878481178246],[8.364941836908457,49.01958315579909],[8.367102622933306,49.01788251117296],[8.36721603433963,49.01779605417864],[8.367336121126785,49.017713589624],[8.367462559901348,49.017635339634424],[8.367595007506829,49.01756151573102],[8.367733106413786,49.01749231706309],[8.36787648561798,49.017427930996966],[8.368024755250572,49.01736853075919],[8.368177517357882,49.017314276614464],[8.371583092583727,49.0158100876875],[8.371783380959473,49.01572465694827],[8.37198789950192,49.01564367895446],[8.372196420937232,49.01556724386989],[8.37240870900854,49.01549543655514],[8.372624528357242,49.0154283377459],[8.372843638234809,49.01536602287441],[8.372963064760262,49.015329555841745],[8.373086115089576,49.01529873889234],[8.373212171181809,49.015273726398455],[8.373340603317997,49.01525464327238],[8.373470765609397,49.01524158496603],[8.373602006777443,49.01523461923839],[8.374681373913832,49.015196119479846],[8.374736179230984,49.01519733670093],[8.374790713256946,49.015193550118056],[8.374843924962814,49.01518483337596],[8.37489479026913,49.01517135556343],[8.374942328215663,49.0151533753216],[8.374985622520775,49.01513123848766],[8.375025115155603,49.015104094295836],[8.375056966720654,49.01507290485177],[8.375080235781436,49.015038592198685],[8.375094236025134,49.015002166168074],[8.375098555125044,49.01496470199193],[8.37509306552035,49.014927304363916],[8.374961720147706,49.013748775382794],[8.37494534655501,49.01367083260745],[8.374936506234308,49.013592364155286],[8.374935234219851,49.0135136858285],[8.374941536799888,49.01343511107465],[8.374955387024935,49.01335695746746],[8.374955104953948,49.01321147038825],[8.37494943299124,49.01306603178691],[8.374938371136816,49.01292072827548],[8.374763832070403,49.01130336363334],[8.37475757710108,49.01125906826587],[8.374760631373045,49.011214627322836],[8.37477293290253,49.0111708833823],[8.37479424992422,49.01112866488395],[8.374824180891176,49.01108877257716],[8.374862155373178,49.01105196243292],[8.374907456514638,49.01101893150243],[8.374959222831208,49.01099030613167],[8.375016476057517,49.01096662840889],[8.37507812923211,49.01094834732547],
              //Siemens York

              [8.37514301454506,49.01093580993704],[8.377875150650185,49.0108199759381],[8.380116578438106,49.01071570159873],[8.380174938388839,49.0107155383845],[8.381285941494577,49.010662021175584],[8.384104959959044,49.0105343490471],[8.384481193264664,49.01052684057538],[8.384907969381405,49.01052673687208],[8.385548411585141,49.01050397693918],[8.387809887075218,49.01042082917741],[8.38793750443944,49.010423938515196],[8.388064571136375,49.01043231905452],[8.388190585007813,49.01044593779623],[8.388315049285355,49.01046473993814],[8.388437470793965,49.01048865241068],[8.388557364443376,49.01051757916302],[8.388644722909813,49.01053954304926],[8.388734486166246,49.01055680846248],[8.388826069409465,49.01056926699048],[8.388918879751351,49.01057683673494],[8.389012316219015,49.01057946879263],[8.389082604898405,49.01057401789352],[8.389151426628969,49.01056315321457],[8.389217820213277,49.010547025593254],[8.389280859488357,49.010525860107876],[8.389339665901781,49.010499952542126],[8.38939341569851,49.01046966467223],[8.389460785751565,49.01042376174784],[8.389533792733005,49.01038175414775],[8.389611920111602,49.01034394120831],[8.38969461093182,49.01031059162611],[8.389781278593787,49.01028194168981],[8.389871305954934,49.01025819704756],[8.389964053414758,49.010239523868286],[8.39243034029807,49.01010426198595],[8.394747430487417,49.00998561542684],[8.394833130663844,49.009966402410726],[8.39487100004295,49.009949886882715],[8.394904037384137,49.009929366939915],[8.394931273405236,49.00990544241417],[8.394951911300584,49.00987881389619],[8.394965346503975,49.00985026093461],[8.394971186451638,49.009820619645794],[8.394969259565364,49.009790756198896],[8.394842272818472,49.008466991808284],[8.39484161345507,49.008247274424285],[8.394832353621123,49.008027640333864],[8.394814499604843,49.00780823685204],[8.394774030501303,49.00743408415992],[8.394744300756962,49.00705949495779],[8.394725321151622,49.006684604178446],[8.394534139896248,49.004390227544604],[8.394342473550573,49.00278435912127],[8.394326586844805,49.00274333984036],[8.394300912095662,49.00270452633495],[8.394266114954796,49.002668922805164],[8.394223093737535,49.00263744741311],[8.394172960558153,49.002610916960066],[8.39411701168563,49.0025900150618],[8.394056696102517,49.00257528448676],[8.39399356969085,49.00256710417154],[8.393929267384518,49.00256568568436],[8.3931869050236,49.002652193292],[8.392736425061445,49.00270615873985],[8.392287817188341,49.00276649403671],[8.391841287118492,49.00283316969374],[8.391397040566098,49.00290615445184],[8.390955285940285,49.002985415871116],[8.390727424675193,49.00303237050313],[8.390502305068377,49.00308473732665],[8.390280223563845,49.00314244855387],[8.390061473012384,49.0032054263772],[8.389846343569822,49.00327359004145],[8.389635117307183,49.00334684700385],[8.389428074498792,49.00342510354205],[8.389225485537612,49.003508254146666],[8.389027620816497,49.00359619036101],[8.388661451337027,49.003781376849716],[8.388301067007966,49.00397141318535],[8.387946616051368,49.004166220346406],[8.387831471794875,49.00422487201834],[8.387711335600349,49.00427901785482],[8.387586614404634,49.00432847342077],[8.387484896368363,49.004342044920364],[8.38738182187604,49.00435003283344],[8.387278095206826,49.00435238117943],[8.387174427826384,49.00434907345894],[8.387071532997115,49.00434013383188],[8.386970114998173,49.00432562240357],[8.386870870922207,49.004305638760286],[8.386799549180223,49.00427931368203],[8.38673316727401,49.0042478905767],[8.38667256333166,49.00421176485361],[8.386618502717868,49.00417139438748],[8.386571668152229,49.004127288911555],[8.386532651624494,49.004080003536224],[8.386501946309773,49.004030137570595],[8.386479936686989,49.003978319201615],[8.386466903928833,49.00392520431566],[8.38639728718927,49.0031159166019],[8.386353523065242,49.00267546539395],[8.386306853789604,49.00223514288795],[8.386290891625345,49.00198398643702],[8.386265038111446,49.00173318703059],[8.386229309417656,49.001482912633094],[8.386069186514897,48.999799986685275],[8.386029209688132,48.99944473041001],[8.385980530881184,48.99908994426645],[8.385923167162101,48.99873572138403],[8.385878500231223,48.99856139345254],[8.385824023697442,48.99838827841746],[8.38575981122262,48.998216614396455],[8.38568595443489,48.998046637152946],[8.385602553047304,48.99787858304273],[8.38550972204415,48.997712683120234],[8.385407591681176,48.99754916667463],[8.385296301197267,48.99738825887209],[8.385176005102622,48.99723018134496],[8.385046868687276,48.99707515337053],[8.38486506135188,48.99686907183035],[8.38467454484979,48.99666642615502],[8.38447546740303,48.9964673755217],[8.384267985318493,48.99627207675172],[8.384052262089517,48.99608068313177],[8.383828470192677,48.995893345002926],[8.383794983693841,48.99585005853043],[8.38377040399103,48.99580425882942],[8.383755149699217,48.995756735686484],[8.383749487617978,48.99570830777127],[8.383753512968738,48.995659808491645],[8.38376715747962,48.99561207361635],[8.38379018489358,48.995565926539754],[8.383822200850334,48.99552216059988],[8.383888849556184,48.995485638953056],[8.383960552183874,48.995453526593415],[8.384036635895173,48.99542612530322],[8.384116389224415,48.995403692659075],[8.384199063874952,48.995386438495004],[8.384283886397348,48.995374523133805],[8.384370061782539,48.99536806033405],[8.38593766327583,48.99520273320304],[8.386982365323691,48.99511753705058],[8.388028273809022,48.995039022265544],[8.389075289018743,48.99496719536303],[8.392419076322732,48.99472314178898],[8.393877335777947,48.99462612711836],[8.395900243881394,48.994477330568],[8.398133489813718,48.994274874974636],[8.39839058854634,48.99426079088703],[8.398648280167045,48.99425262394157],[8.398906244875635,48.99425038416126],[8.399164173651574,48.99425407567279],[8.400415352569189,48.994538946606866],[8.400663469945599,48.9945799867908],[8.400913650752239,48.994615182925585],[8.401165580578729,48.994644490228346],[8.401418936929876,48.994667872755414],[8.401563962745982,48.99468089048383],[8.401707649173982,48.99469924591125],[8.401849542564678,48.994722880680236],[8.401989195557078,48.99475172169638],[8.404061817326694,48.995283481569984],[8.404121806821362,48.99529892335406],[8.40417763711627,48.99532006525235],[8.404228067637991,48.99534643750338],[8.404271974594156,48.99537745187516],[8.404308382414285,48.99541241934789],[8.404336479919765,48.99545056131363],[8.404355642781383,48.995491029027356],[8.404365444299446,48.99553292246861],[8.404364,48.995642],[8.404365,48.995532],
              //York Tivoli

              [8.4043656670816596,48.995575308613169],[8.4043654442994455,48.995532922468612],[8.4043642198957365,48.995642936936441],[8.4043750823241368,48.995681969307505],[8.4043957714234558,48.995719242882892],[8.4044256970004962,48.995753694392377],[8.4044640047574877,48.995784340726374],[8.4045096032413191,48.995810308994393],[8.4045611916914318,48.995830857742057],[8.4046173004640732,48.995845401704855],[8.404676328761413,48.995853526542007],[8.4047365913439318,48.995854998855457],[8.4047963724294412,48.995849777388067],[8.4066441207306131,48.995837881587825],[8.4068010420377171,48.995837452506713],[8.4069577971564922,48.995842226033659],[8.4071139872349274,48.995852192147346],[8.4089630147370666,48.996037735134628],[8.4091934326074291,48.996056328177517],/*here*/ [8.4094248242515803,48.99606862176681],[8.4096567908175057,48.996074595278387],[8.4097347609909097,48.996078181742597],[8.409811274995219,48.996088687104717],[8.4098849197805325,48.996105916860422],[8.4099543379924349,48.996129555677157],[8.4100182459383745,48.996159165037135],[8.4100754677236509,48.996194199741318],[8.4101249469295123,48.996234014393558],[8.4102176297106457,48.996346308846036],[8.4106417890349778,48.996930562908375],[8.4107330407998333,48.997061948844106],[8.4107637730640334,48.997122866804823],[8.4107863531170093,48.997185310009506],[8.4108006102788764,48.997248807537439],[8.410806439446775,48.997312879629618],[8.4107833958630973,48.997733874090905],[8.4106446555590484,48.999686461201769],[8.4105899778026512,49.000423115740283],[8.410562383353744,49.000794871231037],[8.4105113752152914,49.001482053389537],[8.4104586629727098,49.002720835648432],[8.4104485452476663,49.002958603322554],[8.4104158546561614,49.004648864130338],[8.4104209229510172,49.00470008661641],[8.4102650248250406,49.006214818646193],[8.4102168724308601,49.006464385119934],[8.4101777256474133,49.006716971521939],[8.4101341277117143,49.006963587384021],[8.4100928114968454,49.007214995675128],[8.4100703401400203,49.007475993483624],[8.4100174976417588,49.007734104335867],[8.4100155869251321,49.007995516614685],[8.4100239619185384,49.008256875077812],[8.410042617232028,49.008518001773481],[8.4100715402892412,49.008778724646064],[8.4101107131238368,49.009038867518868],[8.4101279526924682,49.009084362198031],[8.4101545086888958,49.009127873454375],[8.4101898816498348,49.00916857871497],[8.4102334023303822,49.009205710208349],[8.410284249670422,49.009238566159517],[8.4103414651674875,49.009266527287522],[8.4104039654533747,49.009289063875727],[8.4104705728367612,49.009305753448068],[8.410525507511327,49.009314077019553],[8.4105400287779073,49.009316277822094],[8.4107492041867413,49.009305705719797],[8.4109461139987047,49.009295754082721],[8.412202892115495,49.009235231069333],[8.4126292029049434,49.009215307141659],[8.4146069455125581,49.009122853130719],[8.416434070291432,49.009060731297339],[8.4166457708645392,49.009042620983216],[8.4168351222516939,49.009023906690416],[8.4170056476454427,49.009004445821823],[8.417160869340039,49.008984094012504],[8.4173043096296354,49.008962708664697],[8.4174394926051797,49.008940146002125],[8.4175699396625259,49.008916262248007],[8.4176991739942562,49.008890914214504],[8.4178307187928869,49.008863958124081],[8.4179680963526398,49.008835251377207],[8.4181148289678003,49.008804649017002],[8.4182744398308476,49.008772008442818],[8.4184504521343655,49.008737185875077],[8.4186463872742472,49.008700037533437],[8.4188657684430392,49.008660419636776],[8.419112117934958,49.008618188992465],[8.4224718611150227,49.007980034572675],[8.4230399664804843,49.007869258930988],[8.4236064387087541,49.007754928061026],[8.4248009950173905,49.007531904150568],[8.4262376823293756,49.007263656946549],[8.4292274822074305,49.006721758148657],[8.42958428136021,49.006653367621396],[8.4309950019705973,49.006382954822996],[8.4310446509580093,49.006373437484804],[8.4312226521315683,49.006339315652816],[8.4316786953602811,49.006251894004208],[8.4320653140888773,49.006177778617037],[8.4323009305098111,49.006132609508484],[8.4334158161342021,49.005924366258974],[8.4340432291730352,49.005807168794682],[8.4358380092117855,49.005471893766341],[8.4366633714133918,49.005315811284866],[8.4393823355214774,49.004801586797008],[8.4425786275406693,49.004200865785627],[8.44332812072828,49.004057753347219],[8.4439802922346487,49.003933219992746],[8.4456046259313968,49.003623030263618],[8.4482095489141944,49.003183472809802],[8.4503578456616655,49.002829712775771],[8.4525062951227081,49.00245925954588],[8.4548103534522312,49.002075224964109],[8.4563174013088407,49.001823006330127],[8.4576829501351813,49.001612926979512],[8.4584263653215999,49.00149320057119],[8.458535761258597,49.001474606611104],[8.4589584518374394,49.001396133669985],[8.4593783908765428,49.001311502672039],[8.4597953663735517,49.001220756017851],[8.460302171602347,49.001112705156302],[8.4614988254771717,49.000857567962285],[8.4639850899940665,49.000329071856157],[8.4641330640809471,49.000295817522819],[8.4642226108434127,49.000272243153773],[8.4642782417123303,49.000257597348174],[8.4644202366126304,49.000214513277555],[8.4644634994767447,49.000180463840373],[8.4644992057126398,49.000142811117612],[8.464526669905835,49.000102275871974],[8.4645453683384506,49.000059634266734],[8.464554941684451,49.000015703132313],[8.4645552075857591,48.999971322875801],[8.4645461597542262,48.999927343336893],[8.4645279751579174,48.999884605517963],[8.4645009960549888,48.999843929796945],[8.4644399106156953,48.999779958792736],[8.4642491345004789,48.999580172712655],[8.4637523697416093,48.999059940010007],[8.463434051720693,48.998726575651027],[8.4628990852060575,48.998166312320095],[8.462798262790157,48.99805749454368],[8.4626901721052761,48.997951740085753],[8.4625750305437428,48.997849259372096],[8.4624530635826645,48.997750255757076],[8.4623245137671894,48.997654926112936],[8.4621896389138165,48.997563459650671],[8.4620827124455396,48.997462055520906],[8.4619837863731799,48.997357195065675],[8.4618931194115685,48.997249149378071],[8.4618109460209432,48.997138202519409],[8.461206944875034,48.996148031396466],[8.4611177825915256,48.996003909759231],[8.4610198797002933,48.995862266118692],[8.4609133907115694,48.995723330950739],[8.4607984916951544,48.995587327660751],[8.4606753650090205,48.995454478477065],[8.4605442127741863,48.995324997378326],[8.4604052478912966,48.995199094218812],
              //Tivoli-Oberwaldstr  
              [8.4602586958375543,48.995076974728455],[8.4601047928697977,48.994958834618288],[8.4599437878214214,48.994844867242847],[8.4597759430004782,48.994735255937222],[8.4595975735176747,48.994624964209613],[8.4594132724590363,48.994518977897791],[8.4592232823697131,48.994417436130966],[8.4590278502863736,48.994320470375868],[8.4588272295339664,48.994228206204866],[8.458621682420576,48.994140763295718],[8.4584114748474448,48.994058258378686],[8.4581968816991182,48.99398079521599],[8.4580345749919132,48.993907097737043],[8.4578771587130746,48.993828940590973],[8.4577249176286138,48.993746463449746],[8.4575781239280516,48.993659815415882],[8.4574370435126642,48.993569150896747],[8.4573019279108035,48.993474633730564],[8.4571730223624773,48.993376434239558],[8.4570989418942375,48.993315538221417],[8.4570183198941358,48.993258354933531],[8.4569315839601877,48.993205186176041],[8.4568391949281736,48.993156314887564],[8.4567416423798747,48.993112000429655],[8.4566394455415832,48.993072479765274],[8.4565331460973816,48.99303796038533],[8.4563713568197709,48.992993166614951],[8.4562061458592179,48.992954155714344],[8.45603799022118,48.992921039099642],[8.4558673740975898,48.992893911091755],[8.4556947906635251,48.992872853042066],[8.4555207375856423,48.992857923901497],[8.4553457179205491,48.99284916670419],[8.4552178786724426,48.992838647691322],[8.4550913671343473,48.992822619248443],[8.4549667321768904,48.992801150333783],[8.4548445127892258,48.992774334660254],[8.4547252371807513,48.992742287158826],[8.4546094227810578,48.992705145746953],[8.4544975717483926,48.992663074276145],[8.4543901664780972,48.992616253101005],[8.4531595329293321,48.99208225199262],[8.4530647983960954,48.992042908522869],[8.452976006218492,48.991997961781657],[8.4528939181678258,48.991947797249601],[8.4528192403199185,48.991892848741522],[8.4527526149702581,48.99183358543948],[8.4526946116506725,48.991770517787643],[8.4526457307228124,48.991704187472351],[8.4526063925981845,48.991635163886308],[8.4525769332467693,48.991564040002672],[8.4525576068917481,48.9914914270705],[8.4525485779248228,48.99141794813135],[8.4525045694590517,48.991087894280135],[8.4524509589012062,48.990758455404091],[8.4522527725832326,48.990039007678376],[8.4522161033533472,48.98989556865439],[8.4521884235644826,48.989751259750513],[8.4521697799290898,48.989606324410673],[8.4521602029898339,48.989461007849933],[8.4521597089164313,48.989315554107357],[8.4521682977088464,48.98917021017219],[8.4522905404527346,48.987912211268082],[8.452311381367327,48.987803665837703],[8.4523429346916767,48.987696244924258],[8.4523850647801826,48.987590408340999],[8.4524375919697956,48.987486604704387],[8.4525002943766321,48.987385276149901],[8.4525729025060929,48.987286854205415],[8.4529556162581407,48.98693039098994],[8.4531279535538353,48.986833509109488],[8.4533061334921165,48.986741318909004],[8.4534898605273092,48.986653973096509],[8.4536788328254211,48.986571616716141],[8.4538727350778036,48.986494384789836],[8.454071249280851,48.986422405264875],[8.4542740457528947,48.986355797834314],[8.4544807885239557,48.986294672168583],[8.4546911371325653,48.986239130273198],[8.4549763387605488,48.986152894809941],[8.4552584205395469,48.986062325689389],[8.4555372324509115,48.985967471228008],[8.455812622679332,48.985868383278685],[8.4560844430028528,48.98576511428309],[8.4563410243058783,48.985636798237394],[8.4565918923236989,48.985503679636771],[8.4568368413421116,48.985365869862164],[8.4570756683418704,48.985223480884059],[8.4573081747952852,48.985076631747035],[8.4575341693612085,48.984925444443654],[8.457753466088338,48.98477004155621],[8.4579658835170619,48.984610553920952],[8.4592751546874752,48.983543691997035],[8.459351489028732,48.983478645366588],[8.4594213941275278,48.983410539506906],[8.4594845870145132,48.983339648543783],[8.4595408107715144,48.983266260753318],[8.459741105435441,48.983007942912472],[8.4598054796070432,48.982952846000977],[8.4598762084609103,48.982901234449173],[8.4599528581108476,48.982853423087967],[8.4600349551446836,48.98280970788305],[8.4610480535625268,48.98238381425103],[8.4611176146065681,48.982347970395828],[8.4611805999827236,48.982307198406666],[8.4612362101903731,48.982262017082178],[8.4612837355604817,48.982213001819282],[8.461322574221791,48.982160776359997],[8.4613522303042679,48.982106003948779],[8.4613723274138,48.982049382026922],[8.4613826095305438,48.981991630442074],[8.461382945500457,48.981933483784033],[8.4613733317302859,48.981875683131214],[8.4613538903909049,48.981818961901148],[8.4613248703156376,48.981764042312903],[8.4612866371188389,48.981711623006113],[8.461204697290194,48.981600688709364],[8.4611139216324354,48.981492776285336],[8.4610145652670639,48.981388188791506],[8.4609069075701502,48.98128722339181],[8.460791253968905,48.981190164281138],[8.4606679314500717,48.981097286812236],[8.46053229123204,48.981007765017296],[8.4604036875176725,48.98091385014844],[8.4602824517852291,48.980815782137689],[8.4601688903602579,48.980713812120037],[8.4600632933986191,48.980608198306257],[8.4599659312931728,48.98049921128986],[8.4585272218734886,48.978841324750796],[8.4585004107555175,48.978806014882593],[8.4584649174203328,48.978774196004991],[8.4584217614557744,48.978746785541205],[8.4583721870284894,48.978724572972375],[8.4583176224598251,48.978708196252335],[8.4582596353099202,48.978698128835518],[8.4581998982418369,48.978694659040144],[8.4581366918801297,48.978693104854756],[8.4580739328794454,48.978698283900272],[8.4580132678516584,48.97871006233553],[8.4579562850182413,48.978728130615984],[8.4579044773792038,48.978752014107535],[8.4578592040854872,48.978781087826896],[8.457823509527687,48.978828529879102],[8.4577960641991314,48.978878293132446],[8.4577772067646961,48.978929757913527],[8.4577671725829511,48.978982285094339],[8.45776608741809,48.979035221399357],[8.4577975823519598,48.979076192990156],[8.4578364803020776,48.979114309728615],[8.4578821919736118,48.979148994408206],[8.4579340292570855,48.979179723476527],[8.45799120343165,48.979206031161681],[8.4580528521146565,48.979227518905446],[8.4581180419565243,48.979243863027193],[8.458283102000097,48.97927015416991],[8.4584454796742055,48.979302897212307],[8.4586045892773409,48.979341974812748],[8.4587598639724977,48.979387246633564],[8.4588694638270692,48.979434256528066],[8.4589727377453823,48.979487112168762],[8.4590689643802968,48.979545443864239],[8.4591574789785309,48.979608847137108],
              //Oberwaldtr - Waldstadt
                
              ],
              "type": "LineString"
            }
          }]

           
  };

  // 'line-gradient' can only be used with GeoJSON sources
      // and the source must have the 'lineMetrics' option set to true
      map.addSource('line2', {
        type: 'geojson',
        lineMetrics: true,
        data: geojson2
        });
        map.addLayer({
          type: 'line',
          source: 'line2',
          id: 'line2',
          paint: {
          'line-color': 'red',
          'line-width': 5,
          // 'line-gradient' must be specified using an expression
          // with the special 'line-progress' property
          'line-gradient': [
          'interpolate',
          ['linear'],
          ['line-progress'],
          0, "#41ee41",
          0.1, "#cca100",
          0.3, "#b71515",
          0.5, "#ce7f2f",
          0.8, "#cca100",
          1, "#41ee41"
          ]
          },
          layout: {
          'line-cap': 'round',
          'line-join': 'round'
          }
          });

          map.on('click', 'line2', function (e) {
            new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML(e.features[0].properties.Name)
            .addTo(map);
            });
             
            // Change the cursor to a pointer when the mouse is over the states layer.
            map.on('mouseenter', 'line2', function () {
            map.getCanvas().style.cursor = 'pointer';
            });
             
            // Change it back to a pointer when it leaves.
            map.on('mouseleave', 'line2', function () {
            map.getCanvas().style.cursor = '';
            });    

  }

// ON OFF TRAM 3-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
$('#lin3').change(function() {
  if($(this).is(":checked")) {
    addLayerLine3();
    addChart3();
    console.log('TEST tram3')
    $('#statisticsLines1').hide();
    $('#statisticsLines2').hide();
    $('#statisticsLines3').show();
    $('#statisticsLines5').hide();
    $('#statisticsLinesS1').hide();
    $('#statisitcsLinesS2').hide();

    $('#statisticsSub1').hide();
    $('#statisticsSub2').hide();
    $('#statisticsSub3').hide();
    $('#statisticsSub4').hide();
    $('#statisticsSub5').hide();
    $('#statisticsSub6').hide();
    $('#statisticsSub7').hide();
    $('#statisticsSub8').hide();

      
  }else{
    $('#statisticsLine3').remove();
    map.removeSource('line3')
    map.removeLayer('line3')
  }
         
});

//Polyline TRAM 3----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function addLayerLine3() {
  console.log('hier');
 
  
  var geojson3 = {
          "type": "FeatureCollection",
          "features": [{

          //Collection-3 of data driven polylines

              'type': 'Feature',
              'properties': {
                'Name': 'Line T3'
               //yellow
              },
            'geometry': {
              'type': 'LineString',
              'coordinates': [
                /*Duale Hochschule-Neureut Heide*/
                [8.3882048897803916,49.036773439374912],[8.3882297299946291,49.036839867494088],[8.3882648424441459,49.036904258481229],[8.3883098543280727,49.036965932152853],[8.3883642868443982,49.037024228940354],[8.3884275605797534,49.037078531089975],[8.3884990026959816,49.037128261484632],[8.388577854116674,49.037172888943132],[8.3886632767136629,49.037211941764355],[8.3887543604935964,49.03724500360422],[8.3888501397674897,49.037271722308425],[8.3889291834276598,49.037288800010899],[8.3890042664157587,49.037312369221212],[8.3890741616330526,49.037342045374594],[8.3891377255242379,49.037377343790922],[8.3891939187385383,49.037417684975772],[8.3892418214010611,49.037462411110511],[8.3892806528758257,49.037510790764813],[8.3893097771556562,49.037562033030937],[8.3893096702561341,49.037609304273481],[8.3892987674035293,49.037656030147701],[8.389277317431203,49.037701149454399],[8.3892458045310239,49.037743639276847],[8.3892049437620155,49.037782536180181],[8.3891556621855159,49.037816956822581],[8.389099077305783,49.037846123276474],[8.3890364728152971,49.037869371272421],[8.3889692689506052,49.037886175520399],[8.3888899728638187,49.03788982139659],[8.3888106525225439,49.037886408724574],[8.3887327560110023,49.037875997570545],[8.388657703565638,49.037858778144852],[8.3885868678122488,49.037835065501817],[8.3885215378332028,49.037805291885128],[8.3884768511393908,49.037759023727141],[8.3884392656278983,49.03771010075819],[8.3884091451164213,49.037658994092112],[8.3883867788624897,49.037606195455993],[8.3883723806651123,49.037552210123536],[8.3883660879665438,49.037497556915291],[8.3879925999124545,49.036084738422616],[8.3875882942542059,49.034236368050792],[8.3872095169197074,49.032373857456335],[8.3871591429918393,49.032020871409308],[8.3871007507017428,49.031668419412206],[8.3870343517275181,49.031316580988353],[8.3866129655024597,49.029391983006612],[8.3863214181753118,49.028091411628992],[8.3862888407715399,49.027852895757015],[8.3862479539513828,49.027614933599494],[8.3861987819693606,49.027377649448432],
                [8.3861413517749224,49.027141169365258],


                //Euro -Duale Hochschule
              [8.3861413517749224,49.027141169365258],[8.3859467919557336,49.026193229174602],[8.3855610472879132,49.024318776463446],[8.3851611254082687,49.022422834699221],[8.3848359765979232,49.020919850518396],[8.384797217886657,49.020658026569244],[8.3847671530707313,49.020395708749703],[8.3847457956248395,49.020133022532349],[8.3847331545321833,49.019870092214092],[8.3847255296320551,49.019603781338432],[8.3847268546470737,49.019337425443076],[8.3847371250857208,49.019071154134117],[8.3847563391513393,49.01880509702054],[8.3847844860641256,49.018539383124931],[8.3848215505527683,49.018274144418271],[8.384867413141281,49.017968806004994],[8.3849225912592953,49.017664134980336],[8.3849870669405,49.017360253898218],[8.3850608105404962,49.01705728767206],[8.3852400945082426,49.016304047039057],[8.3856465246821266,49.014433809762494],[8.3858695521126698,49.013357234975835],[8.3858877456921164,49.013285694911673],[8.3858957371048959,49.013213351087522],
              [8.3858934562823997,49.013140832168098],[8.3858809238858587,49.013068767410992],[8.3858582477131289,49.01299778372065],[8.3858256262918971,49.012928496221122],[8.385783340794859,49.012861507077453],[8.3857317604295538,49.012797397246558],[8.3856755663169569,49.012744851504607],[8.3856133175593559,49.01269534596701],[8.3855453887542062,49.012649184669044],[8.3854721976180944,49.01260664572186],[8.3853941870205215,49.01256799014989],
              [8.3853118330685152,49.012533453641986],[8.3852087540846085,49.012465836468408],[8.3851120342746182,49.012394268609199],[8.3850220257780794,49.012319008117899],[8.3849390519885425,49.012240326600285],[8.3848634138416376,49.012158510393306],[8.3847953844251801,49.012073851727166],[8.3847352062842884,49.011986658742046],[8.3846831004045477,49.011897244882924],[8.3846526187703372,49.011758088121105],[8.3846291251306813,49.011618346473675],[8.3846126428418692,49.011478170773913],[8.384603193463402,49.011337714213802],[8.3845523640896698,49.01076644352171],[8.384566872779823,49.010722669137103],[8.3845917722828709,49.010680966416722],[8.384626428388227,49.010642397143613],[8.3846699607468711,49.01060794002337],[8.3847212626344412,49.010578471238674],[8.3847790305954213,49.010554739111512],[8.3848417985792771,49.010537347014612],[8.3849079693814055,49.01052673687208],[8.3855484115851411,49.010503976939177],[8.3878098870752176,49.010420829177413],[8.3879375044394404,49.010423938515196],[8.3880645711363755,49.010432319054523],[8.3881905850078127,49.010445937796227],[8.3883150492853549,49.010464739938143],[8.3884374707939653,49.010488652410679],[8.3885573644433755,49.010517579163022],[8.3886447229098131,49.010539543049262],[8.3887344861662463,49.010556808462482],[8.3888260694094647,49.01056926699048],[8.3889188797513512,49.010576836734941],[8.3890123162190147,49.010579468792628],[8.3890826048984053,49.010574017893518],[8.3891514266289686,49.010563153214569],[8.3892178202132772,49.010547025593254],[8.3892808594883572,49.010525860107876],[8.3893396659017814,49.010499952542126],[8.3893934156985104,49.010469664672229],[8.3894607857515648,49.010423761747838],[8.3895337927330047,49.010381754147751],[8.3896119201116015,49.010343941208312],[8.3896946109318193,49.010310591626109],[8.3897812785937873,49.010281941689811],[8.3898713059549337,49.010258197047563],[8.3899640534147579,49.010239523868286],[8.3924303402980698,49.010104261985951],[8.394747430487417,49.009985615426842],[8.3948331306638444,49.009966402410726],[8.3948710000429507,49.009949886882715],[8.394904037384137,49.009929366939915],[8.3949312734052359,49.009905442414173],[8.3949519113005842,49.009878813896187],[8.3949653465039749,49.009850260934613],[8.3949711864516381,49.009820619645794],[8.3949692595653644,49.009790756198896],[8.3949564963018037,49.009657718043385],[8.3949426900941795,49.009513780448756],[8.394937325355313,49.009457873185653],[8.3948737219382572,49.008794837519794],[8.3948422728184724,49.008466991808284],[8.3948416134550694,49.008247274424285],[8.3948323536211227,49.008027640333864],[8.394814499604843,49.007808236852043],[8.3947740305013028,49.007434084159918],[8.3947443007569618,49.007059494957787],[8.394725321151622,49.006684604178446],[8.3946439508548689,49.005708094373652],[8.3946320598554571,49.005565396407043],[8.3945341398962476,49.004390227544604],[8.3945147290995656,49.004227608128225],[8.3945025093167818,49.004125219293378],[8.3943661351751864,49.002982611332705],[8.3943181157316431,49.002506089149236],[8.3941769616544253,49.001105275413337],[8.3939647714995012,48.999358015082073],[8.3939477008141559,48.999217442411279],
              [8.3938757897773417,48.998625261704433],[8.3936510690225052,48.996086492200916],[8.393514209790645,48.994887034712924],[8.3935159049115668,48.994847719981585],[8.3935270071901602,48.994809073019908],[8.3935472390469901,48.994772063997878],[8.3935760920356302,48.994737620061244],[8.3936128448088425,48.99470660470174],//[8.3936565756951786,48.994679793590343],[8.3937061869533807,48.99465785925188],[8.3937604380100215,48.994641351613502],[8.3938179688157675,48.99463068562622],[8.3938773357779475,48.994626127118359],[8.3941993692308916,48.994602441614084],[8.3959002438813943,48.994477330568003],[8.3967550959771486,48.994399839175649],[8.3968098833279914,48.994394872772098],[8.3981334898137181,48.994274874974636],[8.398172755174782,48.994272723607665],[8.3983905885463397,48.994260790887033],[8.3986482801670448,48.99425262394157],[8.3989062448756346,48.994250384161262],[8.3991641736515739,48.994254075672792],[8.3996244084194096,48.994358864857766],[8.3997377281975627,48.994384665296344],[8.3997699840044753,48.99439200939792],
               
                //Europa- hbf
              [8.3949711864516381,49.009820619645794],[8.3949692595653644,49.009790756198896],[8.3949564963018037,49.009657718043385],[8.3949426900941795,49.009513780448756],[8.394937325355313,49.009457873185653],[8.3948737219382572,49.008794837519794],[8.3948422728184724,49.008466991808284],[8.3948416134550694,49.008247274424285],[8.3948323536211227,49.008027640333864],[8.394814499604843,49.007808236852043],[8.3947740305013028,49.007434084159918],[8.3947443007569618,49.007059494957787],[8.394725321151622,49.006684604178446],[8.3946439508548689,49.005708094373652],[8.3946320598554571,49.005565396407043],[8.3945341398962476,49.004390227544604],[8.3945147290995656,49.004227608128225],[8.3945025093167818,49.004125219293378],[8.3943661351751864,49.002982611332705],[8.3943181157316431,49.002506089149236],[8.3941769616544253,49.001105275413337],[8.3939647714995012,48.999358015082073],[8.3939477008141559,48.999217442411279],
              [8.3938757897773417,48.998625261704433],[8.3936510690225052,48.996086492200916],[8.393514209790645,48.994887034712924],[8.3935159049115668,48.994847719981585],[8.3935270071901602,48.994809073019908],[8.3935472390469901,48.994772063997878],[8.3935760920356302,48.994737620061244],[8.3936128448088425,48.99470660470174],[8.3936565756951786,48.994679793590343],[8.3937061869533807,48.99465785925188],[8.3937604380100215,48.994641351613502],[8.3938179688157675,48.99463068562622],[8.3938773357779475,48.994626127118359],[8.3941993692308916,48.994602441614084],[8.3959002438813943,48.994477330568003],[8.3967550959771486,48.994399839175649],[8.3968098833279914,48.994394872772098],[8.3981334898137181,48.994274874974636],[8.398172755174782,48.994272723607665],[8.3983905885463397,48.994260790887033],[8.3986482801670448,48.99425262394157],[8.3989062448756346,48.994250384161262],[8.3991641736515739,48.994254075672792],[8.3996244084194096,48.994358864857766],[8.3997377281975627,48.994384665296344],[8.3997699840044753,48.99439200939792],

                /*Hbf-Tivoli*/[8.3997340747493006,48.99438915191778],[8.4000501155409744,48.99445578986858],[8.4004153525691887,48.994538946606866],[8.4006634699455986,48.994579986790797],[8.4009136507522388,48.994615182925585],[8.4011212262615746,48.994639330522254],[8.4011655805787289,48.994644490228346],[8.4014189369298755,48.994667872755414],[8.4015639627459819,48.994680890483828],[8.4017076491739822,48.994699245911249],[8.401849542564678,48.994722880680236],[8.4019891955570785,48.994751721696382],[8.4040618173266939,48.995283481569984],[8.4041218068213617,48.995298923354063],[8.4041776371162698,48.995320065252351],[8.404228067637991,48.995346437503379],[8.4042719745941561,48.995377451875157],[8.4043083824142855,48.995412419347893],[8.4043364799197651,48.995450561313632],[8.4043556427813826,48.995491029027356],[8.4043654442994455,48.995532922468612],[8.4043656670816596,48.995575308613169],[8.4043642198957365,48.995642936936441],[8.4043750823241368,48.995681969307505],[8.4043957714234558,48.995719242882892],[8.4044256970004962,48.995753694392377],[8.4044640047574877,48.995784340726374],[8.4045096032413191,48.995810308994393],[8.4045611916914318,48.995830857742057],[8.4046173004640732,48.995845401704855],[8.404676328761413,48.995853526542007],[8.4047365913439318,48.995854998855457],[8.4047963724294412,48.995849777388067],[8.4051573182055552,48.995847455753392],[8.4066441207306131,48.995837881587825],[8.4068010420377171,48.995837452506713],[8.4069577971564922,48.995842226033659],[8.4071139872349274,48.995852192147346],[8.4089630147370666,48.996037735134628],[8.4091934326074291,48.996056328177517],[8.4094248242515803,48.99606862176681],[8.4096567908175057,48.996074595278387],[8.4096567908175057,48.996074595278387],
               /*Tivoli */
               [8.4097347609909097,48.996078181742597],[8.409811274995219,48.996088687104717],[8.4098849197805325,48.996105916860422],[8.4099543379924349,48.996129555677157],[8.4100182459383745,48.996159165037135],[8.4100754677236509,48.996194199741318],[8.4101249469295123,48.996234014393558],[8.4102176297106457,48.996346308846036],[8.4104323603011952,48.996642089758168],[8.4104665906050933,48.996673224147628],[8.4105081215173385,48.996700239292778],[8.4105558265504978,48.996722403771514],[8.4106084157238428,48.996739115237361],[8.4106644571228344,48.996749922225902],[8.4107224352896015,48.996754530047866],[8.4107807763757272,48.99675281375508],[8.4108378984480279,48.996744821087162],[8.4108922528109034,48.99673076775656],[8.4109423644307206,48.996711036270192],[8.410986875953034,48.996686160016615],[8.4110222767617486,48.996658939167617],[8.4110502754525491,48.996628211446769],[8.4110700859995067,48.996594840301213],[8.4110811532438134,48.996559760495906],[8.4110831654700462,48.996523958074981],[8.4110760678809786,48.996488437356483],[8.4110600590043045,48.996454193820362],[8.4110355870993434,48.996422189354071],[8.4110033393772721,48.996393322193136],[8.4109642222381975,48.99636840098718],[8.4108826525154559,48.996323210604046],[8.4107962732126893,48.996282071070226],[8.4107055469622694,48.99624520282849],[8.4106109642443077,48.996212805692444],[8.4105130281154175,48.996185052952306],[8.4104122676832507,48.99616209255359],[8.4102905378774047,48.996134909728781],
               [8.4101665101810834,48.996112674261404],[8.4100406472266265,48.996095470441325],[8.409913422426202,48.996083361928449],[8.4097853100902462,48.996076395288547],[8.4096567908175057,48.996074595278387]
 
              ],
                "type": "LineString"
          
          }
          }]
          
         
  };
  map.addSource('line3', {
    type: 'geojson',
    lineMetrics: true,
    data: geojson3
    });
    map.addLayer({
      type: 'line',
      source: 'line3',
      id: 'line3',
      paint: {
      'line-color': 'red',
      'line-width': 5,
      // 'line-gradient' must be specified using an expression
      // with the special 'line-progress' property
      'line-gradient': [
      'interpolate',
      ['linear'],
      ['line-progress'],
      0, "#41ee41",
      
      0.3, "#b71515",
      0.5, "#ce7f2f",
      0.8, "#cca100",
     
      ]
      },
      layout: {
      'line-cap': 'round',
      'line-join': 'round'
      }
      });
      map.on('click', 'line3', function (e) {
        new mapboxgl.Popup()
        .setLngLat(e.lngLat)
        .setHTML(e.features[0].properties.Name)
        .addTo(map);
        });
         
        // Change the cursor to a pointer when the mouse is over the states layer.
        map.on('mouseenter', 'line3', function () {
        map.getCanvas().style.cursor = 'pointer';
        });
         
        // Change it back to a pointer when it leaves.
        map.on('mouseleave', 'line3', function () {
        map.getCanvas().style.cursor = '';
        });

}

// ON OFF TRAM 5-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
$('#lin5').change(function() {
  if($(this).is(":checked")) {
    addLayerLine5();
    addChart5();
    $('#statisticsLines1').hide();
    $('#statisticsLines2').hide();
    $('#statisticsLines3').hide();
    $('#statisticsLines5').show();
    $('#statisticsLineS1').hide();
    $('#statisticsLineS2').hide();

    $('#statisticsSub1').hide();
    $('#statisticsSub2').hide();
    $('#statisticsSub3').hide();
    $('#statisticsSub4').hide();
    $('#statisticsSub5').hide();
    $('#statisticsSub6').hide();
    $('#statisticsSub7').hide();
    $('#statisticsSub8').hide();
    
      
  }else{
    $('#statisticsLines5').remove();
    map.removeSource('line5')
    map.removeLayer('line5')
  }
         
});

//Polyline TRAM 5----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function addLayerLine5() {
  console.log('hier');
 
  
    var geojson5 = {
          "type": "FeatureCollection",
          "features": [{

              'type': 'Feature',
              'properties': {
                'color': '#00bf00',
                'Name': 'Line T5' //green
              },
            'geometry': {
              'type': 'LineString',
              'coordinates': [

                //Rheinhafen - Entenfang
                [8.3476746145532257,49.015285063739711],[8.3473773314829778,49.015614087069579],[8.3473402328583806,49.015681127890566],[8.3473132402807284,49.01575022715145],[8.3472966115664917,49.015820727929537],[8.3472905048191901,49.01589195857678],[8.3473081109004355,49.015926341929962],[8.3473338763794178,49.015958422236906],[8.3473671320112324,49.015987367610037],[8.3474070172098589,49.016012428645467],[8.3474524980143716,49.016032956685955],[8.347502397631775,49.016048418549119],[8.3475554224880462,49.016058414790763],[8.347610199059126,49.016062687363075],[8.3476681781241879,49.016062193648843],[8.347725185212127,49.016055216842027],[8.347779555744717,49.016041959610291],[8.3478297032971192,49.016022810792968],[8.3478741636154954,49.015998327727317],[8.3479116413291337,49.015969224465948],[8.3479376322852552,49.015928323272902],[8.3479536591282386,49.015885263364545],[8.347959330192614,49.015841089316666],[8.3479545098328227,49.015796872810036],[8.3479393148297856,49.015753683172449],[8.3479141125944842,49.015712568525693],[8.3478795130830115,49.015674524559273],[8.3478363580167496,49.015640473909137],[8.3477717215370966,49.015587793303851],[8.3477130920917659,49.015532154450192],[8.3476607813961561,49.015473854866485],[8.3476150679279595,49.015413202087736],[8.3476333010333121,49.015361149292922],[8.3476601624569202,49.015310739040373],[8.3476953198221917,49.015262588782328],[8.3477383455310381,49.015217285336483],[8.3477887140690239,49.015175383707046],[8.3478458064969203,49.015137396479446],[8.3479089257220416,49.015103787338752],[8.3479773036848393,49.015074968712405],[8.3480500986638653,49.015051291164767],[8.348126423123686,49.015033045753086],[8.3495531858484053,49.014629500408297],[8.3532744272684667,49.013565513128832],[8.354936927686694,49.013106121656563],[8.355047376449189,49.013059770430033],[8.3551527632050746,49.013008573040729],[8.3552525974741663,49.01295276750821],[8.3553464166241262,49.012892614830498],[8.3554337804804462,49.012828394270826],[8.3555142839029646,49.012760405125441],[8.3555875522941605,49.012688963188793],[8.3556532469891938,49.012614401343299],[8.3557110580692999,49.012537067202615],[8.3558434715388259,49.012400750410997],[8.3559836159096719,49.012267820572397],[8.3561312917558492,49.012138467437758],[8.3562862888716065,49.012012875456342],[8.3564483862713512,49.011891224364767],[8.357548369743494,49.011136463159211],
                
                //Entenfang - Mathystr
                [8.357548369743494,49.011136463159211],[8.3591278487614726,49.010091273625214],[8.3604702776473498,49.009194636640167],[8.3607054026898044,49.009063888448516],[8.3609470423147076,49.008938385936077],[8.3611949261291372,49.008818269971641],[8.3614487792486791,49.008703674942048],[8.3617083133140326,49.008594728751902],[8.3619732417626889,49.008491553412391],[8.3622432663539445,49.008394265041403],[8.3625180843555462,49.008302971506069],[8.3627973912386118,49.008217775369076],[8.3635168465597793,49.007952899445236],[8.3638108507792204,49.007838767346286],[8.3640991983073416,49.007718552680309],[8.3643815980899454,49.007592374433457],[8.3646577644627911,49.00746036160816],[8.3649274198464756,49.007322647920333],[8.3651902911531106,49.007179370031665],[8.3654854901318938,49.007007065137735],[8.3657736031997043,49.006829645988518],[8.3660544282356302,49.00664723981145],[8.3663277640170204,49.00645997501293],[8.3667048965362021,49.006192687855254],[8.3670879884790264,49.005929096980523],[8.3674769572003953,49.005669257839862],[8.3675838980417261,49.005619732891688],[8.3676961398415273,49.005575574484652],[8.3678130600673466,49.005537027185099],[8.3679340128304371,49.005504306094316],[8.3680583279876615,49.005477589776483],[8.3681853192261393,49.00545702733001],[8.3683142813683169,49.005442733083456],[8.3684445020502274,49.005434784827706],[8.3685752599246683,49.005433227351254],[8.3687058327461408,49.005438070083329],[8.3703617440217588,49.005468528959739],[8.3738720439451253,49.005563761738749],[8.3772268940018346,49.005655669612793],[8.3773787874382855,49.005658054432629],[8.3775306233825546,49.005654415622949],[8.3776818511673561,49.005644766735884],[8.3778319201254678,49.005629142535497],[8.3779802876744096,49.005607599587186],[8.3781264121301007,49.005580216847044],[8.3782697643848483,49.005547093304877],[8.3792389666263247,49.005254914540934],[8.3815000531459258,49.00460088741977],[8.3816391123519125,49.004561773054306],[8.3817811818124053,49.004527658231034],[8.3819258447091176,49.004498644908168],[8.3820726797322127,49.00447481559592],[8.3822212574869432,49.004456241606441],[8.3823711440870436,49.004442976571518],[8.3825219011546679,49.004435059388797],[8.3859375626645214,49.004281985555529],[8.386247891069317,49.004288475484998],[8.3865577110276579,49.004301830723541],[8.3868666730949037,49.004322038301112],[8.387174427826384,49.00434907345894],[8.3872780952068258,49.00435238117943],[8.3873818218760405,49.004350032833443],[8.3874848963683633,49.004342044920364],[8.3875866144046345,49.00432847342077],[8.3877113356003488,49.00427901785482],[8.3878314717948754,49.004224872018341],[8.3879466160513676,49.004166220346406],[8.3883010670079656,49.003971413185347],[8.3886614513370272,49.003781376849716],[8.3890276208164973,49.003596190361009],[8.3892254855376116,49.003508254146666],[8.3894280744987917,49.00342510354205],[8.3896351173071828,49.003346847003847],[8.3898463435698218,49.003273590041452],[8.3900614730123841,49.0032054263772],[8.3902802235638454,49.003142448553866],[8.3905023050683774,49.003084737326652],[8.3907274246751928,49.003032370503128],[8.3909552859402847,49.002985415871116],[8.3913970405660976,49.002906154451843],[8.391841287118492,49.002833169693737],[8.3922878171883415,49.002766494036713],[8.3927364250614449,49.002706158739848],[8.3931869050235992,49.002652193292001],[8.3936528135507675,49.002597901304036],[8.3938894612376345,49.002570324791435],[8.3938894612376345,49.002570324791435],/*here -> Rintheim*/

                //Mathystr-kronenplatz
                [8.3939935696908492,49.00256710417154],[8.3938894612376345,49.002570324791435],[8.3938894612376345,49.002570324791435],[8.394791003270262,49.002435223585444],[8.3965073630796638,49.002244362231117],[8.3967534852978183,49.00225286849399],[8.3969989571357413,49.002267391134069],[8.3972434390301967,49.002287913055817],[8.3974865914180459,49.002314403607159],[8.3977280765327169,49.002346826830056],[8.3979675628959125,49.002385137924598],[8.3982047163342788,49.002429285017136],[8.3982936764968716,49.002452459396331],[8.3983789400920443,49.002481021904025],[8.3984597552299558,49.002514719713517],[8.3985354104448717,49.002553256976853],[8.3986052373902211,49.002596293646896],[8.3986686207200236,49.002643449013441],[8.3999277991352574,49.003784866702574],[8.399967517247223,49.003823507878927],[8.4000141317256407,49.003858655642084],[8.400066940087946,49.003889781395557],[8.4001251473250722,49.003916416652309],[8.400187876681354,49.003938158337483],[8.4002541813324836,49.003954681163258],[8.4003230650467806,49.003965734092624],[8.4003934866768741,49.00397115212504],[8.4004643862106576,49.003970852170923],[8.4008550042388972,49.003965742932166],[8.4028180405270305,49.003888632846305],[8.4037481498839863,49.003836046468983],[8.4041985076752681,49.00383731641579],[8.4044064766467006,49.00384378754552],[8.4046138051193342,49.003856301969044],[8.4048200924445329,49.003874834341843],[8.4082017087034551,49.004216679598805],[8.4083164343450001,49.004228276391942],[8.4086491631397191,49.004261751443316],[8.4096441479281889,49.004361848813708],[8.4100106479876899,49.004398716351346],[8.4100776389517033,49.004405598736568],[8.4101422664481849,49.004419090070954],[8.4102030356805333,49.0044388756655],[8.410258536293739,49.004464499987591],[8.4103074845952488,49.004495366662098],[8.4103487469111915,49.004530764401046],[8.4103813674340913,49.004569870540749],[8.4104045906808231,49.004611780507247],[8.4104158546561614,49.004648864130338],[8.4104209229510172,49.00470008661641],[8.410320483217415,49.005675986247212],[8.4102938562540839,49.005934698064692],[8.4102830090969984,49.006040087899457],[8.4102650248250406,49.006214818646193],[8.4102168724308601,49.006464385119934],[8.4101777256474133,49.006716971521939],[8.4101341277117143,49.006963587384021],[8.4100928114968454,49.007214995675128],[8.4100703401400203,49.007475993483624],[8.4100174976417588,49.007734104335867],[8.4100155869251321,49.007995516614685],[8.4100239619185384,49.008256875077812],[8.410042617232028,49.008518001773481],[8.4100715402892412,49.008778724646064],[8.4101099980648808,49.009034117647801],[8.4101107131238368,49.009038867518868],
              
                //Kronen - tullastr
                [8.410110713123837,49.00903886751887],[8.410127952692468,49.00908436219803],[8.410154508688896,49.009127873454375],[8.410189881649835,49.00916857871497],[8.410233402330382,49.00920571020835],[8.410284249670422,49.00923856615952],[8.410341465167487,49.00926652728752],[8.410403965453375,49.00928906387573],[8.410470572836761,49.00930575344807],[8.410519710682792,49.0093131990555],[8.411393608859171,49.00927304956469],[8.41136139527309,49.00927476483681],[8.412147120211067,49.00923791740788],[8.412629202904943,49.00921530714166],[8.413442337238857,49.00917729945665],[8.41386290689532,49.00915763889588],[8.414606945512558,49.00912285313072],[8.415064857237065,49.00910728658867],[8.415265043204844,49.00910048145451],[8.416434070291432,49.00906073129734],[8.416578964055166,49.00905261156077],[8.416724344705795,49.009050394837075],[8.416869656186178,49.0090540911442],[8.417014343337414,49.00906368457129],[8.417157851898988,49.00907913976052],[8.417299635695239,49.00910039837165],[8.417439153940306,49.00912737790367],[8.418292858887433,49.009409930570186],[8.419509520040245,49.00987875261619],[8.419786096044868,49.0099853249366],[8.420020957880972,49.0100758216963],[8.422592407839625,49.01107591410096],[8.423088603066601,49.011268883401954],[8.426120554592726,49.01243313583911],[8.426458788263528,49.012564180388196],[8.426636890048396,49.01263318322277],[8.427851935131995,49.01310392161075],[8.428986492064494,49.013522112393616],[8.429210565134024,49.013590089304216],[8.42943774817104,49.013653439242354],[8.429963942636919,49.01380307053233],[8.430048559445114,49.0138271322326],[8.430173184521104,49.01386257106179],[8.4302682208883,49.01388456587752],[8.430333895820397,49.01388974892487],[8.430400022605069,49.0138886813244],[8.4304652331082,49.01388138605383],[8.43052817806015,49.013868014530665],[8.430587556700427,49.0138488430773],[8.430642141032026,49.01382426820799],[8.430690803669291,49.01379479720277],[8.430732535804117,49.01376103985935],[8.430748702784314,49.01373341119923],[8.430792890913137,49.01365788936612],[8.430852027008264,49.01355682261511],[8.430978182813508,49.01333140842415],[8.431054063505563,49.01318943992364],[8.431084781396711,49.013131969536026],[8.431099301764961,49.013104801275574],[8.431197752628522,49.01290325923138],[8.431287914736966,49.0127000465854],[8.431369721614939,49.01249531002799],[8.431408761498865,49.01238567628764],[8.431443115770296,49.01228919919774],[8.431482210451444,49.01216435647473],[8.43161120762794,49.011603494835],[8.431624069706182,49.01154658767016],

                //Tulla-Rintheim
                [8.431635106407754,49.01150493159837],[8.431655464927042,49.0114648251198],[8.431684688021551,49.011427163841425],[8.431722122616064,49.011392789754126],[8.43176693058245,49.01136247296669],[8.431818109400787,49.011336891082294],[8.431874518210757,49.01131661564572],[8.431934890387723,49.011302100358314],[8.431997879357132,49.011293669292954],[8.432062074763978,49.01129151276888],[8.432126041998725,49.011295677334935],[8.434137820874133,49.01138050289323],[8.438237189248428,49.0115646917706],[8.43835334321129,49.01157469539391],[8.438468377873333,49.011589257149474],[8.438581880009462,49.01160832518279],[8.438693441784595,49.01163183114022],[8.438802664346753,49.011659691347724],[8.43883944945933,49.01167006438647],[8.438996901670752,49.01171265244912],[8.43915047855003,49.011760975832885],[8.439299699498516,49.01181488545153],[8.439444092002336,49.011874209238236],[8.43958320690384,49.01193876216291],[8.439716604028588,49.0120083397507],[8.439843866558258,49.01208272574247],[8.439964592945945,49.01216168561337],[8.440078403204213,49.01224497010891],[8.440364099803931,49.01247227230322],[8.440642568558836,49.0127034220981],[8.44091369178971,49.0129383216336],[8.441017972719468,49.01303267047661],[8.44107285349511,49.013082324155434],[8.441177351817165,49.01317686892648],[8.441433437250161,49.01341896199448],[8.441681833104301,49.0136644970892],[8.441922437870018,49.01391336751749],[8.442157528776482,49.014128104299274],[8.442384475556628,49.01434659970027],[8.442477314644588,49.014440908167],[8.442603137174876,49.01456872110641],[8.442813379782262,49.014794331781104],[8.443015074919764,49.01502329381108],[8.443168592510233,49.01520794820476],[8.443225767583128,49.01527802672897],[8.443392335898062,49.0154907114558],[8.443775620080332,49.01598920931996],[8.444160585908802,49.01647635098507],[8.444248383651418,49.01657157802861],[8.444268604728482,49.01660826508314],[8.44428038972667,49.016646510414674],[8.444283479032956,49.016685480960994],[8.444277807070248,49.01672432539868],[8.444263496907752,49.0167621965311],[8.444240861159225,49.01679826719524],[8.444210393898068,49.016831752649004],[8.444172758080907,49.01686191881875],[8.44412108698576,49.01688363305306],[8.444064511089163,49.01689918361335],[8.444004712935676,49.01690810920268],[8.443943473884413,49.01691014470814],[8.443882613922257,49.016905227680944],[8.443823943154396,49.01689350717336],[8.44376920610919,49.016875329010674],[8.443720032330543,49.01685123579141],[8.443677885174058,49.01682194391194],[8.443642787995891,49.0167864482746],[8.443616166422443,49.016747897281924],[8.443598619630006,49.01670715992328],[8.443590542877303,49.01666515232251],[8.44359211672565,49.01662282359897],[8.44360330793749,49.01658112699913],[8.443623862289476,49.016541002222205],[8.443760169955754,49.0162760150407],[8.443786626239204,49.01622756819267],[8.443802927966665,49.016177218911444],[8.443808778694095,49.016125885687124],[8.443804072420333,49.01607450056399],[8.443788893586978,49.016023999125125],[8.443763518875132,49.015975302228476],
                
                ],
                "type": "LineString"

              }
              }]
          
            };
            
      // 'line-gradient' can only be used with GeoJSON sources
      // and the source must have the 'lineMetrics' option set to true
      map.addSource('line5', {
        type: 'geojson',
        lineMetrics: true,
        data: geojson5
        });
        map.addLayer({
          type: 'line',
          source: 'line5',
          id: 'line5',
          paint: {
              'line-color': 'red',
              'line-width': 5,
          // 'line-gradient' must be specified using an expression
          // with the special 'line-progress' property
               'line-gradient': [
               'interpolate',
               ['linear'],
               ['line-progress'],
               0, "#41ee41",
               0.3, "#cca100",
               0.6, "#b71515", //red
               0.7, "#ce7f2f", //orange
               0.8, "#cca100",
               1, "#41ee41"
              ]
          },
          layout: {
            'line-cap': 'round',
            'line-join': 'round'
          }
        });
        map.on('click', 'line5', function (e) {
          new mapboxgl.Popup()
          .setLngLat(e.lngLat)
          .setHTML(e.features[0].properties.Name)
          .addTo(map);
          });
           
          // Change the cursor to a pointer when the mouse is over the states layer.
          map.on('mouseenter', 'line5', function () {
          map.getCanvas().style.cursor = 'pointer';
          });
           
          // Change it back to a pointer when it leaves.
          map.on('mouseleave', 'line5', function () {
          map.getCanvas().style.cursor = '';
          });

  }

  


// ON OFF S1/S11-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
$('#linS1').change(function() {
  if($(this).is(":checked")) {
    addLayerLineS1();
    addChartS1();
    $('#statisticsLines1').hide();
    $('#statisticsLines2').hide();
    $('#statisticsLines3').hide();
    $('#statisticsLines5').hide();
    $('#statisticsLinesS1').show();
    $('#statisticsLinesS2').hide();

    $('#statisticsSub1').hide();
    $('#statisticsSub2').hide();
    $('#statisticsSub3').hide();
    $('#statisticsSub4').hide();
    $('#statisticsSub5').hide();
    $('#statisticsSub6').hide();
    $('#statisticsSub7').hide();
    $('#statisticsSub8').hide();
    
      
  }else{
    $('#statisticsLinesS1').remove();
    map.removeSource('lineS1')
    map.removeLayer('lineS1')
    
  }
         
});

//Polyline S1/S11----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function addLayerLineS1() {
  console.log('hier');
 
  
    var geojsonS1 = {
          "type": "FeatureCollection",
          "features": [{

              'type': 'Feature',
              'properties': {
                'color': '#00bf00', //green
                'Name': 'Line S1/ S11'
              },
            'geometry': {
              'type': 'LineString',
              'coordinates': [

                
                  [8.4437943436658021,48.934020243671],[8.4435656622388606,48.93413819776309],[8.4433316403275747,48.934251514960984],[8.4430924926292512,48.934360088483871],[8.4428484437227667,48.934463817451629],[8.4425997163902622,48.934562608065086],[8.4423465414987966,48.934656367114549],[8.4420891544069736,48.934745009060926],[8.4418277931682901,48.934828450724815],[8.441562698531337,48.934906615416985],[8.4409256842987279,48.935035524103142],[8.4402857298802179,48.935157955357504],[8.4396429897860106,48.935273882082505],[8.438997614933081,48.93538327363764],[8.438349758035006,48.935486107641665],[8.437699574500348,48.935582357580117],[8.4370472179410108,48.935672001657139],[8.4363928419689316,48.935755016894063],[8.4361501414336892,48.935760784606195],[8.4359072881848398,48.935759700578487],[8.4356647295833707,48.935751768351196],[8.4354229076004881,48.93573700031331],[8.4351822686987834,48.93571542478395],[8.4349432512562057,48.935687082471759],[8.4347062963454977,48.93565202352449],[8.4344718351580301,48.935610313430125],[8.4342403006817435,48.935562027115971],[8.4340121187181207,48.935507255439958],[8.4337877033904647,48.935446096929304],[8.4335674688221633,48.935378664862164],[8.4333518201533799,48.935305081366387],[8.4331411499478772,48.935225483321275],[8.4329358462778998,48.935140016456444],[8.4327362846392369,48.93504883653236],[8.4325428333410972,48.934952111110995],[8.4323558454214407,48.934850018375911],[8.4321756631383948,48.934742743591656],[8.4319147564472772,48.934670106301965],[8.4316500040684179,48.934603783204743],[8.4313817590397448,48.934543863433568],[8.4311103752974805,48.934490426678096],[8.4308362157609515,48.934443542593613],[8.4305596460445411,48.934403275522136],[8.4302810308642417,48.934369678590798],[8.4300007412242195,48.934342794892146],[8.4297191517219972,48.934322661024787],[8.4294366351584031,48.934309305322827],[8.4291535670292248,48.934302743725098],[8.4288703237285798,48.934302985086148],[8.4285872834471789,48.934310029405907],[8.428304819884179,48.934323867239492],[8.4280233103320317,48.934344480287358],[8.4277804040825526,48.934350200362346],[8.4275373469161288,48.934349318126543],[8.4272945520577895,48.934341833579573],[8.427052432732502,48.934327760881416],[8.4268113985721076,48.934307124221647],[8.4265718601066464,48.934279957229258],[8.4263342269678976,48.934246308283882],[8.4260989007028257,48.934206232844247],[8.4258662837566352,48.934159799349558],[8.4256367695914172,48.934107086269009],[8.4254107498726771,48.934048184462348],[8.4251983575968055,48.934015324362207],[8.4249839252468899,48.93398882995762],[8.4247678947941065,48.933968756140601],[8.4245507055145996,48.933955144228023],[8.4243328038710956,48.933948021961157],[8.4241146354279213,48.933947402915784],[8.423896650241085,48.933953290632907],[8.4236792902816635,48.933965671537329],[8.4234630056056687,48.933984519658445],[8.4232482363875416,48.934009798401057],[8.4230354237000959,48.934041454643847],[8.4228250023279561,48.934079422870539],[8.4226174043607251,48.934123626940391],[8.4224130564982271,48.934173974186933],[8.4222123755586811,48.93423036427027],[8.4220157729705569,48.934292678554712],[8.4218236529756823,48.934360791911864],[8.4190103262368563,48.935928481105002],[8.4188214850927885,48.936025201684025],[8.4186264518614617,48.93611643352417],[8.4184255930554883,48.936202002575314],[8.4182192868656518,48.936281750719445],[8.4180079231607898,48.936355525738442],[8.4177918980978887,48.936423188395288],[8.4175716204104276,48.936484613023694],[8.4173475042217696,48.936539682217138],[8.4171199708417852,48.936588292729532],[8.4168894514617829,48.936630353114658],[8.4166563772731031,48.936665784906182],[8.4164211902468828,48.936694519667029],[8.4158861967828003,48.936811990053307],[8.4153485631700828,48.936924106241889],[8.4148084097830065,48.937030841714638],[8.414265864182326,48.937132172902437],[8.4058485556470313,48.93978058861935],[8.4057141227647634,48.939851933913864],[8.4055852172164371,48.939927576501546],[8.4054621525140707,48.940007330494794],[8.4053452331865817,48.940090999975133],[8.4052347466948412,48.940178380173727],[8.4051309607368196,48.94026925688128],[8.4050341322306483,48.940363406448597],[8.4049444992299271,48.940460599326826],[8.4048144177869002,48.940572163883566],[8.4046767931904132,48.940679729425902],[8.404531910206444,48.940783077071799],[8.4043800661773354,48.940881992660337],[8.4042215728185088,48.940976272652058],[8.4002551110888124,48.94298612105635],[8.400117333778752,48.943076316487371],[8.399986793296609,48.943171068480126],[8.3998638372903915,48.943270124480549],[8.3997487900519534,48.943373221905205],[8.399641959703434,48.943480085191418],[8.3995436283157847,48.943590433467811],[8.3994540581971293,48.943703971704394],[8.3993734865026628,48.943820398383146],[8.3993021261331364,48.943939404908079],[8.3992401702262889,48.9440606744257],[8.3991877795806023,48.944183886545076],[8.3991450952315851,48.944308712028274],[8.3991122303669083,48.944434820460245],[8.3990892730214863,48.94456187670923],[8.3988216622034315,48.945953431450874],[8.3987597027033267,48.946478706010694],[8.3987077001298545,48.947004449380977],[8.3986656661610706,48.947530577771175],[8.3986336061868911,48.948057012114027],[8.3986115246989055,48.948583668036008],[8.3985994270869604,48.949110464706749],[8.3985973142494199,48.949637320119564],[8.3986051879828807,48.950164151091201],[8.3986230464907443,48.950690876801723],[8.3986508870780234,48.951217414074932],[8.3987092838597039,48.951354869920287],[8.3987769287972007,48.951490473622925],[8.3988536871432888,48.951623956194432],[8.3989394088792793,48.951755051598582],[8.3990339188337089,48.951883499110828],[8.3991370346485308,48.95200904390812],[8.3992485461179918,48.952131434709052],[8.3993682340532025,48.952250429672567],[8.3994958612988917,48.952365790498803],[8.3996311727334874,48.952477288917905],[8.3997738979641614,48.952584701970146],[8.3999237540215272,48.952687817905229],[8.4001292759821329,48.952769964224679],[8.4003295239336779,48.952857577063291],[8.4005241663978687,48.952950509505982],[8.4007128763879262,48.953048606378509],[8.4008953385951735,48.953151701887968],[8.4010712466940962,48.953259626111937],[8.4012403069356445,48.953372196150298],[8.4014022381470639,48.953489225563786],[8.4015567672405638,48.953610517295566],[8.4017036363996151,48.953735869570437],[8.4018572240586913,48.95387568571963],[8.4020024403176148,48.954019329874448],[8.4021390641908695,48.954166585512311],[8.4022668890659222,48.954317227853764],[8.4023857236015882,48.954471030351769],[8.4024953845415631,48.954627759972674],[8.4025957083925071,48.954787178966185],[8.4026865424407795,48.954949047814928],[8.4027677483458287,48.955113119925748],[8.4028392057334109,48.955279148118407],[8.40290080231415,48.95544688049695],[8.4029524491547747,48.955616063988586],[8.4029940645086114,48.95578644198482],[8.4030255881885569,48.955957756700641],[8.4030469698889689,48.956129749174984],[8.4030581790670844,48.956302159270393],[8.4038557294274518,48.958195355596658],[8.4046319178504092,48.960067021824145],[8.405052898935244,48.961125549156684],[8.4051072946206542,48.961274419939166],[8.4051524529299755,48.96142462323477],[8.4051883002013827,48.961575910724584],[8.4052147789427263,48.961728034092737],[8.4052318424415269,48.961880739128247],[8.4052394637484014,48.962033775162141],[8.405237631185221,48.962186888579389],[8.4052263456503198,48.962339826357976],[8.4051584752356501,48.962881929609644],[8.4050165773533685,48.963875695955061],[8.4047275749534318,48.965691897978857],[8.4046892959425481,48.96596807002873],[8.4046607043636641,48.966244749500916],[8.4046418145898656,48.966521790130443],[8.4046251975537558,48.966780886359317],[8.4046007364285593,48.967039713501038],[8.4045684392991475,48.967298167766366],
                  [8.4045283196402458,48.967556147137593],[8.4043000559299212,48.969427381885382],[8.4039709033283465,48.971271923785004],[8.4039593635702321,48.971355340349199],[8.4039572462411076,48.971439089946237],[8.4039645657140252,48.971522712620391],[8.4039812806665175,48.971605748418938],[8.4040072967754575,48.971687740340634],[8.4040424757002903,48.97176823610473],[8.4040866189133592,48.971846794637031],[8.4041394874627677,48.971922982532035],[8.4042007893960964,48.971996381128314],[8.405840741202347,48.973886766398579],[8.405953197699521,48.974039769126648],[8.4060574256286831,48.974195276231676],[8.406153293835791,48.974353096643263],[8.4062406864382169,48.974513035165494],[8.4063194956380762,48.974674896014996],[8.406389622620754,48.974838478103898],[8.4064509811479002,48.975003580346808],[8.4065034975577468,48.975169998712659],[8.4065471035782515,48.975337527993638],[8.4065817498021396,48.975505962984634],[8.406607389516962,48.975675094355843],[8.406625683707718,48.975841098325994],[8.4066351887817401,48.976007421323722],[8.4066358930609297,48.976173861102779],[8.4066277947486636,48.976340216009355],[8.4066109046246709,48.976506284392258],[8.4065852433502855,48.976671865192621],[8.4065508414681407,48.976836756764584],[8.4065077403008051,48.977000762181987],[8.4064559928488727,48.977163679214485],[8.4063941797741641,48.977321277966695],[8.4063239431970711,48.977477340864951],[8.4062453693557853,48.977631671582778],[8.4061585588616783,48.97778407792314],[8.406063617715942,48.977934369460016],[8.4059606635978312,48.978082356948612],[8.4058498285597825,48.978227857631779],[8.4057312482473296,48.978370688164588],[8.4056050717808173,48.978510669920468],[8.4043323252115556,48.980067223432975],[8.4042303475621907,48.980193164832684],[8.4041378174946644,48.980322229512623],[8.4040549559945319,48.980454109688218],[8.4039819615895155,48.980588491092298],[8.403919005857766,48.980725056512789],[8.4038662415129206,48.980863478718],[8.4038237907258484,48.981003429890151],[8.4037917559044892,48.981144576319174],[8.403686575761137,48.98299265001193],[8.403682000641421,48.983410303689254],[8.4036687199482323,48.983827876047229],[8.403646733681672,48.984245289269346],[8.4036160463332603,48.984662464952031],[8.403524004050924,48.986620047618125],[8.4035233024666915,48.986765350652789],[8.4035130652657006,48.986910499403571],[8.4034933104142979,48.987055219753778],[8.4034640765399882,48.987199244664005],[8.4034254175417669,48.987342304150346],[8.4033774043864362,48.987484131179485],[8.4033201260073085,48.987624460489499],[8.4032536928970938,48.987763030947818],[8.4031762958488372,48.987890011626384],[8.4030898105448806,48.98801442711197],[8.4029944328178896,48.988135994469296],[8.4028903791618959,48.988254438428996],[8.4027778831388815,48.988369493744777],[8.4026572007686529,48.988480896940771],[8.4025286042407945,48.988588395742752],[8.4023923855077296,48.988691750257011],[8.4022488499966759,48.9887907229487],[8.4020983255927355,48.988885092199645],[8.4019411509607469,48.988974642876407],[8.4017776845284917,48.989059173993297],[8.3984248538845243,48.990690507447596],[8.3982754514763922,48.990764914086213],[8.3981322079177936,48.990844394063295],[8.3979955220608069,48.990928726308908],[8.3978657711977771,48.991017677374586],[8.397743316451507,48.991110999665246],[8.3976284973851651,48.99120843556593],[8.3975216311040288,48.991309714494633],[8.3974230158487639,48.991414555260519],[8.3973329238089267,48.991522667243167],[8.3972516065127714,48.991633750392808],[8.3971792885391388,48.991747496409616],[8.3962128683800739,48.993036711382679],[8.3961713033318741,48.9931143104032],[8.3961394131392808,48.993193867973467],[8.3961174053131238,48.993274861261916],[8.3961054253804974,48.993356760956573],[8.39610355239315,48.993439030675781],[8.3961117971308106,48.99352112932602],[8.3961301056946205,48.993602520532733],[8.39621064055817,48.993819446788088],[8.3962082267850029,48.993952700547943],[8.3962001904564705,48.994085859055083],[8.3962046757446771,48.994128149766453],[8.3962155642242298,48.994169932954037],[8.3962327471989759,48.994210791312369],[8.3962560521924079,48.99425031343138],[8.3962983475709141,48.994289249640076],[8.3963489775186577,48.994323609010969],[8.3964068164465413,48.994352625903794],[8.3964705752721294,48.994375654919246],[8.3965388337590134,48.994392181506889],[8.3966100701610404,48.99440183846832],[8.3966826962568124,48.994404410081913],[8.3967550959771486,48.994399839175649],[8.3968098833279914,48.994394872772098],[8.3981334898137181,48.994274874974636],[8.398172755174782,48.994272723607665],[8.3983905885463397,48.994260790887033],[8.3986482801670448,48.99425262394157],[8.3989062448756346,48.994250384161262],[8.3991641736515739,48.994254075672792],[8.3996244084194096,48.994358864857766],[8.3997699840044753,48.99439200939792],[8.4004153525691887,48.994538946606866],[8.4006634699455986,48.994579986790797],[8.4009136507522388,48.994615182925585],[8.4011655805787289,48.994644490228346],[8.4014189369298755,48.994667872755414],[8.4015639627459819,48.994680890483828],[8.4017076491739822,48.994699245911249],[8.401849542564678,48.994722880680236],[8.4019891955570785,48.994751721696382],[8.4040618173266939,48.995283481569984],[8.4041218068213617,48.995298923354063],[8.4041776371162698,48.995320065252351],[8.404228067637991,48.995346437503379],[8.4042719745941561,48.995377451875157],[8.4043083824142855,48.995412419347893],[8.4043364799197651,48.995450561313632],[8.4043556427813826,48.995491029027356],[8.4043654442994455,48.995532922468612],[8.4043642198957365,48.995642936936441],/*dd */[8.4043656670816596,48.995575308613169],[8.4043642198957365,48.995642936936441],/*dd*/ [8.4043642198957365,48.995642936936441],[8.4043750823241368,48.995681969307505],[8.4043957714234558,48.995719242882892],[8.4044256970004962,48.995753694392377],[8.4044640047574877,48.995784340726374],[8.4045096032413191,48.995810308994393],[8.4045611916914318,48.995830857742057],[8.4046173004640732,48.995845401704855],[8.404676328761413,48.995853526542007],[8.4047365913439318,48.995854998855457],[8.4047963724294412,48.995849777388067],[8.4051573182055552,48.995847455753392],[8.4066441207306131,48.995837881587825],[8.4068010420377171,48.995837452506713],[8.4069577971564922,48.995842226033659],[8.4071139872349274,48.995852192147346],[8.4089630147370666,48.996037735134628],[8.4091934326074291,48.996056328177517],[8.4094248242515803,48.99606862176681],[8.4096567908175057,48.996074595278387],[8.4097347609909097,48.996078181742597],[8.409811274995219,48.996088687104717],[8.4098849197805325,48.996105916860422],[8.4099543379924349,48.996129555677157],[8.4100182459383745,48.996159165037135],[8.4100754677236509,48.996194199741318],[8.4101249469295123,48.996234014393558],[8.4102176297106457,48.996346308846036],[8.4104323603011952,48.996642089758168],[8.4106417890349778,48.996930562908375],[8.4107330407998333,48.997061948844106],[8.4107637730640334,48.997122866804823],[8.4107863531170093,48.997185310009506],[8.4108006102788764,48.997248807537439],[8.410806439446775,48.997312879629618],[8.4107833958630973,48.997733874090905],[8.4106446555590484,48.999686461201769],[8.4105899778026512,49.000423115740283],[8.410562383353744,49.000794871231037],[8.4105113752152914,49.001482053389537],[8.4104586629727098,49.002720835648432],[8.4104485452476663,49.002958603322554],[8.4104158546561614,49.004648864130338],[8.4104209229510172,49.00470008661641],[8.4102650248250406,49.006214818646193],[8.4102168724308601,49.006464385119934],[8.4101777256474133,49.006716971521939],[8.4101341277117143,49.006963587384021],[8.4100928114968454,49.007214995675128],[8.4100703401400203,49.007475993483624],[8.4100174976417588,49.007734104335867],[8.4100155869251321,49.007995516614685],[8.4100239619185384,49.008256875077812],
                  [8.410042617232028,49.008518001773481],[8.4100715402892412,49.008778724646064],[8.4101107131238368,49.009038867518868],[8.4101044419848332,49.009086654342937],[8.4100882669198302,49.009133424093349],[8.4100624924577101,49.009178292324776],[8.4100276045870022,49.009220410538667],[8.4099842653661359,49.009258982681075],[8.4099332922619681,49.009293279872921],[8.4098756500651159,49.009322652783325],[8.4098124293303886,49.009346547538037],[8.4097718003266984,49.009346906383534],[8.4095796435009085,49.009355275908668],[8.4090552447672948,49.009378114145989],[8.4088304997579346,49.00938790078029],[8.4040091122706571,49.00959775229633],[8.4039492593199157,49.00960041917061],[8.4038821075574557,49.009603278135103],[8.4037055463833088,49.009610958213187],[8.4008705576697427,49.009734249407956],[8.3952880626765456,49.009961009778252],[8.394747430487417,49.009985615426842],[8.3924303402980698,49.010104261985951],[8.3899640534147579,49.010239523868286],[8.3898713059549337,49.010258197047563],[8.3897812785937873,49.010281941689811],[8.3896946109318193,49.010310591626109],[8.3896119201116015,49.010343941208312],[8.3895337927330047,49.010381754147751],[8.3894607857515648,49.010423761747838],[8.3893934156985104,49.010469664672229],[8.3893396659017814,49.010499952542126],[8.3892808594883572,49.010525860107876],[8.3892178202132772,49.010547025593254],[8.3891514266289686,49.010563153214569],[8.3890826048984053,49.010574017893518],[8.3890123162190147,49.010579468792628],[8.3889188797513512,49.010576836734941],[8.3888260694094647,49.01056926699048],[8.3887344861662463,49.010556808462482],[8.3886447229098131,49.010539543049262],[8.3885573644433755,49.010517579163022],[8.3884374707939653,49.010488652410679],[8.3883150492853549,49.010464739938143],[8.3881905850078127,49.010445937796227],[8.3880645711363755,49.010432319054523],[8.3879375044394404,49.010423938515196],[8.3878098870752176,49.010420829177413],[8.3855484115851411,49.010503976939177],[8.3849079693814055,49.01052673687208],[8.3844811932646639,49.01052684057538],[8.3841049599590445,49.010534349047099],[8.3812859414945766,49.010662021175584],[8.3801749383888389,49.010715538384503],[8.3801165784381055,49.010715701598727],[8.3778751506501852,49.010819975938098],[8.3756785829309504,49.010913107934542],[8.375562839498162,49.010918013769263],[8.3751430145450598,49.010935809937038],[8.3750781292321097,49.010948347325467],[8.3750164760575174,49.010966628408887],[8.3749592228312082,49.010990306131667],[8.374907456514638,49.011018931502427],[8.3748621553731777,49.011051962432923],[8.3748241808911761,49.01108877257716],[8.3747942499242196,49.011128664883948],[8.3747729329025304,49.011170883382299],[8.3747606313730447,49.011214627322836],[8.3747575771010805,49.011259068265872],[8.3747638320704034,49.011303363633338],[8.3749106617035807,49.012663956454034],[8.3749160614767337,49.01271400349529],[8.3749383711368157,49.012920728275482],[8.3749494329912402,49.013066031786913],[8.3749551049539477,49.013211470388249],[8.3749553870249347,49.013356957467458],[8.3749415367998878,49.013435111074649],[8.3749352342198513,49.013513685828499],[8.3749365062343077,49.013592364155286],[8.3749453465550108,49.013670832607453],[8.3749617201477058,49.013748775382794],[8.3750930655203497,49.014927304363916],[8.3750966587814712,49.014951783832153],[8.3751626373441557,49.015852934384831],[8.3752843321156814,49.017690308643338],[8.3753645049581671,49.018799432580394],[8.3753765468745254,49.018883690987167],[8.3753816717632326,49.01896825382812],[8.375379863454576,49.019052874848477],[8.3753711300333951,49.01913730956263],[8.3753808264485645,49.019283909254831],[8.3754000216495417,49.019430103791173],[8.375486422511873,49.020620153098974],[8.3756708592161395,49.02293845533719],[8.375800893946785,49.024690221613],[8.3759304920961739,49.026477672384821],[8.376053992481431,49.028174682431093],[8.3762495332609195,49.029898250657922],[8.3764299886318163,49.031671699402928],[8.3766307387416052,49.033559455747024],[8.3767915326858962,49.035171013591416],[8.3769959281591415,49.037058788501149],[8.3771715425089806,49.038644254085817],[8.3773178376445525,49.039970232794545],[8.3773537531879398,49.040282096351994],[8.3773773124045832,49.040370451076058],[8.3773918004334718,49.040459644781464],[8.377397152595945,49.040549276444636],[8.377393342840822,49.040638943278275],[8.3773803909310711,49.040728239553708],[8.3773583534605098,49.040816762489399],[8.377327329243851,49.040904114606519],[8.3772874593166087,49.040989901373251],[8.3772389233417996,49.041073735326727],[8.377155681854294,49.041155332057009],[8.3770641453234926,49.041232995658994],[8.3769647476356219,49.041306362825139],[8.3768579496264302,49.041375089092412],[8.376744250759236,49.041438853552862],[8.3766241882265717,49.041497357675162],[8.3764983198822307,49.041550326482167],[8.373754590120031,49.042746463033261],[8.3736560476283319,49.042788075293842],[8.3735637610042186,49.042835482302529],[8.3734785144770267,49.042888280098389],[8.3734010338854734,49.042946018790815],[8.3733319794912617,49.043008206682224],[8.3732719387926267,49.043074313801746],[8.3732214247275429,49.04314377897191],[8.3731808657924915,49.043216008631624],[8.3731506069404631,49.043290389202397],[8.3731280682099527,49.043369264824719],[8.3731159113092346,49.043449120140998],[8.3731142296630008,49.043529366313891],[8.3731230349494155,49.043609412154559],[8.3731422606931289,49.043688664711368],[8.3731717658586611,49.043766539869004],[8.3732113348502786,49.043842462936915],[8.3732606712239992,49.043915871593271],[8.3733194138570628,49.043986225305837],[8.3733871270665414,49.044053002976227],[8.3735017673681593,49.044146412543768],[8.3758697327452918,49.045510599606224],[8.3786731331002233,49.047086447550448],[8.3819653939378309,49.048950343141385],[8.3847757445581053,49.050580800447868],[8.3878561664820506,49.052341093218907],[8.3898150714181323,49.053474423426749],[8.389954123437608,49.053567235413112],[8.3900862224967483,49.05366433599761],[8.3902110631684437,49.053765500856144],[8.3903283561950914,49.053870494479803],[8.3904378302855029,49.053979074884957],[8.3905392312164313,49.054090990670069],[8.3906323245276706,49.054205982781795],[8.3907168946234503,49.054323783926861],[8.3908026594785703,49.054456443075466],[8.3908792408565276,49.05459150789364],[8.3909464833488254,49.054728704027553],[8.3910042513098055,49.054867752416591],[8.3910524270601776,49.055008369882003],[8.3913697021370641,49.056299540954271],[8.3918159393561265,49.058000603855071],[8.3923605277257725,49.059654599641391],[8.3930612253254822,49.061573497897697],[8.3936908140839162,49.063389714339195],[8.3941875599781479,49.065117201840685],[8.3943413892840422,49.065754185757704],[8.3944906982674112,49.066391633535993],[8.3946957683754082,49.067394328599882],[8.3947334742611446,49.067618333161874],[8.3947796710229436,49.067841650470882],[8.3948343290164047,49.068064141051714],[8.3948974141055714,49.068285667785808],[8.3949688885611309,49.068506091791349],[8.3950487074673941,49.068725275365921],[8.3951368205186583,49.068943082575203],[8.3958645133909773,49.070745523957761],[8.3964282358761668,49.072037966960778],[8.403176174576295,49.088279760003452],[8.4032172904668467,49.088378470603729],[8.4032483425312474,49.088478754122463],[8.4032692005138525,49.088580170502603],[8.4032797682948424,49.088682271454175],[8.4032800018568192,49.088784608691064],[8.4032698967082045,49.088886730989174],[8.4032495004596726,49.088988187716538],[8.4032189011461416,49.089088532362894],[8.4031782353115378,49.089187322539516],[8.4031276799239869,49.08928412292061],[8.4030674586639673,49.089378508772711],[8.4029978374328209,49.08947006242488],[8.4029191225560584,49.089558380915832],[8.4028316589867256,49.08964307599382],[8.4027358356953759,49.089723772939564],
                  [8.4026320695002532,49.089800118213567],[8.4025208230338038,49.089871774161047],[8.4024025822845161,49.089938425482671],[8.4022778691736448,49.089999778645769],[8.4021472352667033,49.090055562472187],[8.4020112536888725,49.09010553284417],[8.4018705245147824,49.090149468585828],[8.4017256666836317,49.090187176169039],[8.4015773197959245,49.090218489124915],[8.4014261360285794,49.090243270396407],[8.4012727837281105,49.090261411161741],[8.4011179357326728,49.090272829069093],[8.4009622756602607,49.090277476472536],[8.4008064889253564,49.090275331607643],[8.4006512627392063,49.090266405062593],[8.4004914506535417,49.090281992689391],[8.4003335196400677,49.090304364928478],[8.400178132655471,49.090333425293153],[8.4000259481648936,49.090369052586361],[8.3998776084636955,49.090411096195012],[8.3997337378810553,49.090459377266711],[8.3995949463730391,49.090513694004486],[8.3994618187428873,49.090573815784602],[8.3993349182342492,49.090639488451366],[8.3992147784464652,49.090710436082354],[8.399101908724294,49.090786357459237],[8.3989967842764948,49.090866933715873],[8.3988998506674282,49.090951823044101],[8.398811515732282,49.09104066834206],[8.3987321522718794,49.091133093096538],[8.3986620971544337,49.091228709030915],[8.3986016450273961,49.091327110222814],[8.3985510510122694,49.091427881928766],[8.3985105298064653,49.091530599407676],[8.3984802520897937,49.091634828509463],[8.3984603454231141,49.091740128616763],[8.3984508942479863,49.091846055586174],[8.3984519389886767,49.091952161748637],[8.3984634742552391,49.092058000615232],[8.3984854524369918,49.092163122759736],[8.3985177801091044,49.092267085230439],[8.3985603198293877,49.092369450373575],[8.3986128946297125,49.092469784656615],[8.4010046033781283,49.097053008003186],/*dd */
                  
                ],
                "type": "LineString"

              }
              }]
          
            };
            
      // 'line-gradient' can only be used with GeoJSON sources
      // and the source must have the 'lineMetrics' option set to true
      map.addSource('lineS1', {
        type: 'geojson',
        lineMetrics: true,
        data: geojsonS1
        });
        map.addLayer({
          type: 'line',
          source: 'lineS1',
          id: 'lineS1',
          paint: {
              'line-color': 'red',
              'line-width': 5,
          // 'line-gradient' must be specified using an expression
          // with the special 'line-progress' property
               'line-gradient': [
               'interpolate',
               ['linear'],
               ['line-progress'],
               0, "#41ee41",  //green
               0.1, "#cca100", //yellow
               0.4, "#cc6600",  //orange
               0.5, "#cc6600",  //orange
               0.7, "#cc6600",  //orange
               0.8, "#cca100",  //yellow
               1, "#41ee41" //green
              ]
          },
          layout: {
            'line-cap': 'round',
            'line-join': 'round'
          }
        });
        map.on('click', 'lineS1', function (e) {
          new mapboxgl.Popup()
          .setLngLat(e.lngLat)
          .setHTML(e.features[0].properties.Name)
          .addTo(map);
          });
           
          // Change the cursor to a pointer when the mouse is over the states layer.
          map.on('mouseenter', 'lineS1', function () {
          map.getCanvas().style.cursor = 'pointer';
          });
           
          // Change it back to a pointer when it leaves.
          map.on('mouseleave', 'lineS1', function () {
          map.getCanvas().style.cursor = '';
          });

  }

  

// ON OFF S2-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
$('#linS2').change(function() {
  if($(this).is(":checked")) {
    addChartS2();
    addLayerLineS2();
    $('#h2').remove();
    $('#statisticsLines1').hide();
    $('#statisticsLines2').hide();
    $('#statisticsLines3').hide();
    $('#statisticsLines5').hide();
    $('#statisticsLinesS1').hide();
    $('#statisticsLinesS2').show();

    $('#statisticsSub1').hide();
    $('#statisticsSub2').hide();
    $('#statisticsSub3').hide();
    $('#statisticsSub4').hide();
    $('#statisticsSub5').hide();
    $('#statisticsSub6').hide();
    $('#statisticsSub7').hide();
    $('#statisticsSub8').hide();
      
  }else{
    $('#statisticsLinesS2').remove();
    map.removeSource('lineS2')
    map.removeLayer('lineS2')
    $('#h2').remove();
  }
         
});

//Polyline S2----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function addLayerLineS2() {
  console.log('hier');
 
  
    var geojsonS2 = {
          "type": "FeatureCollection",
          "features": [{

              'type': 'Feature',
              'properties': {
                'color': '#00bf00', //green
                'Name': 'Line S2'
              },
            'geometry': {
              'type': 'LineString',
              'coordinates': [

                
                  [8.2838619178782746,48.95915138947511],[8.2837538990586275,48.959061466700568],[8.2837330967715754,48.959046414182637],[8.2837088009364113,48.959033834827693],[8.2836816807979723,48.959024075459091],[8.2836524819579829,48.959017404452354],[8.2836220102052405,48.959014004656922],[8.2835911036678684,48.959013969856777],[8.2835606148471488,48.95901730241134],[8.2835313818711693,48.959023909126302],[8.2835042123253899,48.959033608921857],[8.2834798518115349,48.959046134012297],[8.2834589731676971,48.959061139933588],[8.2834421495190558,48.959078212621407],[8.283429847091238,48.959096882567714],[8.2834183073330916,48.959116509213658],[8.2834120478721829,48.959137146822584],[8.2834112501682267,48.959158186687731],[8.2834159411706381,48.959179004177805],[8.2834259798439351,48.959198985279535],[8.2834410715407039,48.959217537214556],[8.2834607671032998,48.959234110852648],[8.2834844853217628,48.959248217816587],[8.2835115237135,48.959259439329387],[8.2835410818795943,48.959267442728994],[8.2835883135006174,48.95927516182946],[8.2836368440855104,48.95927753058502],[8.2836852866355208,48.959274480576255],[8.2837322559484932,48.959266098507129],[8.2837764099413267,48.959252624435678],[8.2838164837861434,48.95923444351682],[8.2838513321309772,48.959212077155463],[8.2838799587441159,48.959186162363018],[8.2839015443620703,48.95915744232105],[8.2856561724025912,48.956413609371062],[8.2857972905471904,48.956120226364682],[8.2859301944968653,48.95582518527678],[8.2860548420307172,48.955528585176801],[8.2861711891313856,48.955230527495807],[8.2862792007645236,48.954931110717936],[8.2863795075474567,48.95478945768285],[8.2864887929916762,48.954650716504304],[8.2866068612643851,48.954515131419328],[8.2867335030581941,48.954382944307518],[8.2868684919976303,48.954254391151451],[8.2870115909274649,48.954129699676976],[8.2871625429294884,48.954009091712365],[8.2873210794074428,48.953892781418453],[8.2874869200869945,48.953780975288474],[8.2876597685240707,48.953673873327311],[8.2878393192914892,48.953571664332387],[8.2880252516906907,48.953474531792089],[8.2882172360399373,48.953382646216951],[8.2884149309794655,48.953296172218124],[8.2886179834713491,48.95321526319816],[8.288826034189448,48.95314006429993],[8.2890387130279279,48.953070707097737],[8.2892556408976787,48.953007315495654],[8.2893894620272217,48.952983106431518],[8.2895256547091378,48.952965556194719],[8.2896634598670094,48.952954761536546],[8.2898021058479276,48.952950783811495],[8.2899408120160221,48.952953644847632],[8.2900788076167107,48.952963328126501],[8.2902153174039004,48.952979779962774],[8.2903495778096588,48.953002908324883],[8.2904808342490561,48.953032584604507],[8.2906083554935552,48.953068641257552],[8.2907314246874737,48.953110876523517],[8.2908493546196631,48.953159054425953],[8.2909614859266885,48.95321290418299],[8.2910671870928905,48.953272126696653],[8.2911658697218034,48.95333638806445],[8.2912569786545554,48.95340532901853],[8.2913400063429847,48.953478563746003],[8.2914144856631999,48.953555682839387],[8.2915977114384471,48.953652245382045],[8.2917741198989869,48.953754163983618],[8.2919433517187482,48.953861232738333],[8.2921050574530266,48.953973230993377],[8.2922589110134446,48.954089930427671],[8.2924045925997003,48.954211092103087],[8.2925418084627065,48.954336468234068],[8.2926702765314815,48.954465802188302],[8.2927897318030084,48.954598827896888],[8.2928999326305046,48.954735276343541],[8.2930006517401722,48.954874866716459],[8.2930916843161029,48.955017312897539],[8.2931728426104385,48.955162325232074],[8.2932439622314789,48.955309605220229],[8.2933048949571972,48.955458852595655],[8.2933555195150568,48.955609761786533],[8.2933957308020982,48.955762024275131],[8.2934254452750871,48.955915328598095],[8.2934446027468223,48.956069360936326],[8.2934531654881205,48.956223806294737],[8.293464715127735,48.956401868727973],[8.2934859414195845,48.956579545346038],[8.2935168156175596,48.956756606697795],[8.2935573008907824,48.956932826874443],[8.293607343340323,48.957107978790653],[8.2936668791857908,48.957281838313371],[8.2937358320703645,48.957454182492505],[8.2938141148574918,48.957624788970548],[8.2939016251392026,48.957793440701629],[8.2939982524227229,48.957959919462873],[8.2941038718422568,48.958124013522294],[8.2942183486505048,48.958285509970771],[8.294341535523742,48.958444204159157],[8.2944732752567756,48.958599890261006],[8.2946133971697282,48.958752370119548],[8.2947617242945029,48.95890144734949],[8.2949180625949914,48.959046930875722],[8.295176018320376,48.959237341351887],[8.2954266896071651,48.959431926491852],[8.2956699183518037,48.959630564742781],[8.2959055563322988,48.95983313278321],[8.2961334562249309,48.960039504933455],[8.2963534742992646,48.960249552566033],[8.2965654767063306,48.960463144695311],[8.2967693295970939,48.960680151516982],[8.2969649081058279,48.960900434380974],[8.2971520882649301,48.96112385994735],[8.2973307559884351,48.961350286620657],[8.2975007989868761,48.961579575756453],[8.2977278526665099,48.961887861537825],[8.2979639730423127,48.962193179334164],[8.2982090684861198,48.962495416549807],[8.2984630482680846,48.962794456462738],[8.2987258162684885,48.963090186481516],[8.2989972718759883,48.963382494606677],[8.2992773153776067,48.963671271789501],[8.2994639565475499,48.963878542799797],[8.2996596850748965,48.964082146331577],[8.2998643365679818,48.964281911986191],[8.3000777358553002,48.964477668187143],[8.3002997032738008,48.964669251026869],[8.3005300501772616,48.964856496009325],[8.3007685798346795,48.965039245127301],[8.3010150928200055,48.965217343913331],[8.301269378927481,48.96539064084962],[8.3015312216631081,48.965558989137122],[8.3018004000413654,48.96572224492612],[8.3020766858901585,48.965880270854605],[8.3023598438508461,48.966032932509272],[8.3026496340733047,48.966180100784655],[8.3029458113174268,48.9663216501134],[8.3032481240549583,48.966457460825211],[8.3035563171642881,48.966587417967013],[8.3038701274391347,48.966711410713238],[8.3039789843869389,48.966762843235422],[8.3040820427096147,48.966819217139424],[8.3041787867741252,48.966880249333421],[8.3042687305919412,48.966945635495065],[8.3043514259037448,48.967015045943619],[8.3044264549929174,48.967088133896816],[8.3044934423636416,48.967164533702054],[8.3045520547409932,48.967243862016041],[8.3046019974775227,48.967325721343883],[8.3046430199432741,48.967409701808393],[8.304742333189516,48.967540260353928],[8.3048496495266324,48.967668043876458],[8.3049647910881657,48.967792840684709],[8.3050875656346683,48.96791444203749],[8.3052177701468981,48.968032646861701],[8.3053551872325571,48.968147257623713],[8.3054233531929391,48.968217163536799],[8.3054994476840367,48.968283427222438],[8.3055830242430915,48.968345662427005],[8.3056735941866844,48.968403500589574],[8.3057706239154729,48.968456604404999],[8.3058735447958902,48.968504660157166],[8.3059817531600597,48.968547387743655],[8.3061147541277531,48.968594941557122],[8.3062430200756125,48.968647833459656],[8.3063660587268302,48.968705859981469],[8.3064833930759772,48.968768799370956],[8.3065945757620678,48.96883640746691],[8.3066991755937281,48.968908424775407],[8.3077690187914577,48.969905747831376],[8.3079184607254959,48.970096526103497],[8.3080611428370084,48.970289535067991],[8.3081969878709128,48.97048467032247],[8.3083259230636433,48.970681827466116],[8.3084478783466267,48.970880899740571],[8.3084843005398099,48.970977922905611],[8.3085309805952487,48.971073022312886],[8.308587687645856,48.971165729760401],[8.308654143213964,48.971255586484304],[8.308730018516103,48.97134215023479],[8.3088149380565532,48.971424992327371],[8.3089084850169606,48.971503704718664],[8.3090101958667226,48.971577898236696],[8.3090769209293942,48.971633778439028],[8.3091367792700197,48.971692935445759],[8.3091893953928437,48.971755003052749],[8.3092344477009767,48.971819599725322],[8.3092716577166801,48.971886324471008],[8.309300794572902,48.971954766864144],[8.3093216804032508,48.972024504098044],[8.3093341840537178,48.972095105702323],[8.3125452955801258,48.975007706082714],[8.3127704466279742,48.975253830347718],[8.3130037247342283,48.975496654374481],[8.3132450167111234,48.975736060284255],[8.3134942084726262,48.975971934916878],[8.3137511805427913,48.976204163934362],[8.3140158098524477,48.976432637717053],[8.3142879679425086,48.976657245467337],[8.3145675272521924,48.976877880515978],[8.3148543539324926,48.977094436784277],[8.3151483105412556,48.977306811142491],[8.3154492542462428,48.977514901051379],[8.3157570449103737,48.977718607509736],[8.3160715307183057,48.977917833875452],[8.3163925652446444,48.97811248291714],[8.3167199930808575,48.978302462120467],[8.3170890802883992,48.978479531845146],[8.3174519646288854,48.978662073021489],[8.3178084601510776,48.978849990074472],[8.3181583818020126,48.979043187428751],[8.3185015517152614,48.979241565381621],[8.3204893213180782,48.980374996364247],[8.3246258098765331,48.982861840102835],[8.3248198477745454,48.982985574243486],[8.3250063128746916,48.983114254381782],[8.325184916817804,48.983247680033777],[8.325292814364909,48.983341848725587],[8.3254061485160822,48.983433207473439],[8.3255247557779839,48.983521621877138],[8.3256484546909331,48.983606958715868],[8.326768010656501,48.984282063223347],[8.3272377819393899,48.984557268050558],[8.3277012129129986,48.984837093251855],[8.3281582011693889,48.985121472722618],[8.3286086416056708,48.985410343306249],[8.3290524318139063,48.985703640667275],[8.3294894720810859,48.986001298112413],[8.3299196635925608,48.986303247769925],[8.3303429084319127,48.98660942176847],[8.3306138331350965,48.986804786126179],[8.330877531790124,48.987004388824232],[8.3311338489884381,48.987208113090773],[8.3313826383047083,48.98741584274444],[8.3316237533134743,48.987627454530838],[8.3318570547759201,48.987842827554687],[8.3320824061480874,48.988061835616513],
                  [8.3322996789709247,48.98828435251832],[8.3325087465819383,48.988510249705591],[8.3327094859119626,48.988739395088558],[8.3329017819766342,48.988971655400299],[8.3330750077061264,48.989202370203301],[8.3332391460782116,48.989435943470895],[8.3333940883967443,48.989672221311082],[8.3335397322537528,48.989911047476625],[8.333675982427815,48.990152263954393],[8.3338027454941965,48.990395709197195],[8.3339130891537998,48.990680512596697],[8.3340335083176456,48.99096354305663],[8.3341639383070127,48.991244645581418],[8.3348515923688016,48.99216231930879],[8.3349959866692487,48.992382021015075],[8.3351478163253052,48.992599541430913],[8.3353070049801836,48.992814771539834],[8.3354734735821072,48.993027603505695],[8.3356471394861078,48.993237930672855],[8.3358279164538658,48.993445647565842],[8.3365350783303551,48.994173996982987],[8.3366977677198904,48.994342845155757],[8.3368540152905375,48.994514308570118],[8.3370037258208409,48.994688278747532],[8.3371468040894072,48.99486465015756],[8.3372791915077507,48.995080588377142],[8.3374193789977582,48.995294383768275],[8.3375672848126587,48.995505916710208],[8.3402590371541692,48.998125031680956],[8.3403820470592773,48.998260401543718],[8.3405127959505823,48.998392594351245],[8.340651091588569,48.998521418585113],[8.340796737242206,48.998646688621761],[8.340949520010783,48.998768222375105],[8.3411092180104163,48.998885843653433],[8.3412756030690431,48.998999382159639],[8.3414484308448511,48.999108675258633],[8.3426625524603697,48.999932734698596],[8.3427831261344174,49.000006515201321],[8.3429099107603619,49.000075641522031],[8.3430424931131419,49.000139888549867],[8.3431804393064919,49.000199044728703],[8.3433232965895048,49.000252918539559],[8.343470600533152,49.000301332017614],[8.3436085772692348,49.000353265009139],[8.3437419393596617,49.000410177305753],[8.3438702708845423,49.000471893855789],[8.3439931756867587,49.00053822074797],[8.3441102674907892,49.000608952873321],[8.3442211842755398,49.000683869800106],[8.3443255828846183,49.00076273930982],[8.3444231345345852,49.00084531562991],[8.3452250282493523,49.001685576430326],[8.3453890722983424,49.001863980401673],[8.3455597575922091,49.002039667540991],[8.3457369799264196,49.002212530031201],[8.3459206306047573,49.002382463592042],[8.3461105991345512,49.002549364533699],[8.346306767836376,49.002713129756309],[8.3483870809814746,49.004229169178139],[8.3505421034154477,49.005809518839833],[8.3516262909116268,49.006661663940662],[8.3517342019334553,49.006746477948212],[8.3531013560492102,49.007853326658974],[8.3532552868647105,49.007991390663342],[8.3534172477205324,49.008125420267845],[8.3535869960715914,49.008255212803128],[8.3537642732030246,49.008380572671648],[8.3539488150101526,49.008501312526342],[8.3541403430152403,49.008617249145274],[8.3543385661641612,49.00872820755643],[8.354543188911137,49.008834020447949],[8.3547538986425121,49.008934529346519],[8.3549703827444972,49.009029581670788],[8.3551549245516235,49.009108137451349],[8.355344177124131,49.009181682807267],[8.3555378287465558,49.009250097556176],[8.3557355533304882,49.009313265639335],[8.3559370265840727,49.009371082781847],[8.3561419125374332,49.009423454724477],[8.3563498716273958,49.009470293099085],[8.357316157937495,49.009701699595865],[8.3574756062055027,49.009735089064478],[8.3576320981178611,49.009774062664526],[8.3577851845170237,49.009818508428786],[8.3579344207368589,49.0098682978903],[8.3580793773826567,49.009923288439232],[8.3582196349412357,49.009983319787921],[8.3583547909673008,49.01004821868478],[8.3584844528971161,49.010117798914656],[8.3586082488280855,49.01019185953151],[8.3587987985678662,49.010309021928435],[8.3598929079563558,49.010981738314968],[8.3599764108535819,49.011023317636997],[8.3600645831936564,49.011060490170806],[8.3601568913773328,49.011093030845579],[8.3602527721608659,49.011120742872073],[8.3603516434359673,49.011143456564241],[8.3604529042297511,49.011161034052371],[8.360555940094498,49.011173368693903],[8.362191856668522,49.011367996841933],[8.3624363610208707,49.011392912310441],[8.3626819720976417,49.011412551955353],[8.3629284302857432,49.011426894571223],[8.363175469683835,49.011435925432394],[8.36342282528887,49.011439633346647],[8.3636702338945348,49.011438015958383],[8.3643812944593599,49.011419538840236],[8.3650919409008555,49.011395117734793],[8.3658020555397048,49.011364756757771],[8.3665115269847981,49.011328461201231],[8.3672202393534771,49.011286236355183],[8.3704517597048085,49.011149263876611],[8.373534806506008,49.011025670382054],[8.3751430145450598,49.010935809937038],[8.375562839498162,49.010918013769263],[8.3756785829309504,49.010913107934542],[8.3778751506501852,49.010819975938098],[8.3801165784381055,49.010715701598727],[8.3801749383888389,49.010715538384503],[8.3812859414945766,49.010662021175584],[8.3841049599590445,49.010534349047099],[8.3844811932646639,49.01052684057538],[8.3849079693814055,49.01052673687208],[8.3855484115851411,49.010503976939177],[8.3878098870752176,49.010420829177413],[8.3879375044394404,49.010423938515196],[8.3880645711363755,49.010432319054523],[8.3881905850078127,49.010445937796227],[8.3883150492853549,49.010464739938143],[8.3884374707939653,49.010488652410679],[8.3885573644433755,49.010517579163022],[8.3886447229098131,49.010539543049262],[8.3887344861662463,49.010556808462482],[8.3888260694094647,49.01056926699048],[8.3889188797513512,49.010576836734941],[8.3890123162190147,49.010579468792628],[8.3890826048984053,49.010574017893518],[8.3891514266289686,49.010563153214569],[8.3892178202132772,49.010547025593254],[8.3892808594883572,49.010525860107876],[8.3893396659017814,49.010499952542126],[8.3893934156985104,49.010469664672229],[8.3894607857515648,49.010423761747838],[8.3895337927330047,49.010381754147751],[8.3896119201116015,49.010343941208312],[8.3896946109318193,49.010310591626109],[8.3897812785937873,49.010281941689811],[8.3898713059549337,49.010258197047563],[8.3899640534147579,49.010239523868286],[8.3924303402980698,49.010104261985951],[8.394747430487417,49.009985615426842],[8.3952880626765456,49.009961009778252],[8.4008705576697427,49.009734249407956],[8.4032436946479656,49.009631049324987],[8.4037055463833088,49.009610958213187],[8.4038821075574557,49.009603278135103],[8.4040091122706571,49.00959775229633],[8.4088304997579346,49.00938790078029],[8.4090552447672948,49.009378114145989],[8.4095796435009085,49.009355275908668],[8.4097718003266984,49.009346906383534],[8.4098166451240015,49.009344953651265],[8.4100439503319215,49.009335053285675],[8.410525507511327,49.009314077019553],[8.4105400287779073,49.009316277822094],[8.4107492041867413,49.009305705719797],[8.4109461139987047,49.009295754082721],[8.4121471202110669,49.00923791740788],[8.4126292029049434,49.009215307141659],[8.4146069455125581,49.009122853130719],[8.416434070291432,49.009060731297339],[8.4165789640551658,49.009052611560769],[8.4167243447057949,49.009050394837075],[8.4168696561861776,49.009054091144201],[8.4170143433374136,49.009063684571288],[8.4171578518989882,49.009079139760523],[8.4172996356952385,49.00910039837165],[8.4174391539403057,49.009127377903667],[8.4182928588874333,49.009409930570186],[8.4195095200402452,49.009878752616189],[8.4197860960448683,49.009985324936601],[8.4200209578809719,49.010075821696297],[8.422592407839625,49.011075914100957],[8.423088603066601,49.011268883401954],[8.4261205545927265,49.01243313583911],[8.4278519351319954,49.01310392161075],[8.4289864920644941,49.013522112393616],[8.4292105651340243,49.013590089304216],[8.4294377481710399,49.013653439242354],[8.4299639426369186,49.013803070532333],[8.4300485594451136,49.013827132232599],[8.4302113853785734,49.013873433842384],[8.4306374401481481,49.013994585766476],[8.4311421199629759,49.014138091499667],[8.4312048780653654,49.014155936007569],[8.4330394588610851,49.014677574096901],[8.4332986704312773,49.014742712559972],[8.4335543372493262,49.014813654287714],[8.4338061565830387,49.014890319717139],[8.4340538337849686,49.014972616322105],[8.4342970778009914,49.015060448039897],[8.4345356029667915,49.015153712915179],[8.4347691272114176,49.015252298975525],[8.4367454513792151,49.016089909390104],[8.4371823227631069,49.016298930228452],[8.4373140696826852,49.016364480156149],[8.4374381270234426,49.01642620403512],[8.4376131691464309,49.016513294980257],[8.4380378414088053,49.016732927576122],[8.4384561895315482,49.016957750178882],[8.438868067089329,49.017187685540286],[8.4392403505026117,49.017403531691428],[8.4392733285550232,49.017422652287912],[8.439812463252558,49.017711499361539],[8.4398807684518236,49.017748093670392],[8.4423296837141653,49.019060047412857],[8.4426745478500731,49.01927294396976],[8.4430127940972675,49.019490383477219],[8.4433442877084453,49.019712278097479],[8.4436688921397476,49.0199385370478],[8.4439864717455162,49.020169067189364],[8.4442969007615893,49.020403775384054],[8.4446000471356921,49.02064256437059],[8.4448957931884721,49.020885336888675],[8.4463872283254631,49.022229855026922],[8.4470941970641746,49.022889215596315],[8.4471605322580068,49.022947292660241],[8.4472325241431943,49.023002378919557],[8.4473098628009708,49.023054236397861],[8.4481933630693931,49.023636599025238],[8.4503066659449662,49.024898118943689],[8.4532538263897603,49.026670313384493],[8.4533356242845965,49.026715703596523],[8.4534115040783213,49.026765340092439],[8.4534809573245102,49.026818891824334],[8.4535435195941648,49.026875997704359],[8.4535987713740415,49.026936276618486],[8.4536463434565317,49.026999325659837],[8.4536859142448062,49.027064721307021],[8.4537172214307503,49.027132025314984],[8.4537400539103444,49.027200788249139],[8.4540843943284116,49.028135045869455],[8.4546101207720366,49.03001944132555],[8.4551136848792705,49.03194893411105],[8.4555977321886644,49.033680861886083],[8.4561123294042151,49.035600884078043],[8.4566410247798469,49.037559036102124],[8.4566925126186856,49.037692225827413],[8.4567369064617104,49.037826514083719],
                  [8.4567741506133718,49.037961738915065],[8.4567959482337418,49.038219978495405],[8.4568284573655674,49.038477732076494],[8.4568716528559982,49.038734804743576],[8.4569255032640349,49.038991007474635],[8.4569899690637733,49.039246148896027],[8.4570650017461677,49.039500038226791],[8.4571274544213768,49.039602387287495],[8.4571985021771834,49.039702284049973],[8.4572779240280962,49.039799417013171],[8.4573654711407205,49.039893484100126],[8.4574608713255728,49.039984190301958],[8.4575638254436516,49.040071252388977],[8.4576740145930547,49.040154399498881],[8.4577910929223279,49.040233372547789],[8.4579146957155551,49.040307923641059],[8.4580444384937099,49.040377821961457],[8.4581799161166682,49.040442848469397],[8.4583207045795668,49.040502801201974],[8.4585384535094974,49.040562684375949],[8.4587521618172499,49.040628559199455],[8.4589614486172238,49.040700310230903],[8.4591659375152339,49.040777806716875],[8.4593652673885789,49.040860913191665],[8.4595590798094182,49.040949479467116],[8.459747029824765,49.04104334828785],[8.4599287832612351,49.041142351798463],[8.4601040131321508,49.041246312721597],[8.4602169421431324,49.041340373538844],[8.4603212194796331,49.041438656874504],[8.4604164786289768,49.041540819400431],[8.4605023890111912,49.041646504835533],[8.4605786487922874,49.041755342768425],[8.460644992070959,49.041866952779792],[8.4607011861835559,49.041980945031632],[8.4607470361956789,49.042096922034183],[8.4607823804105102,49.042214476879408],[8.4608070957589199,49.042333199718769],[8.460821094205988,49.042452675407958],[8.4608243290393368,49.042572485862287],[8.4608910244576041,49.044438049207052],[8.460895107300578,49.044790662155961],[8.460908279297584,49.045143177216779],[8.4609305377536987,49.045495496649174],[8.4609618763807077,49.045847516827571],[8.4610022861954395,49.046199137662086],[8.4610371291503572,49.046464285820683],[8.4610628622899782,49.046729884170993],[8.4610794721396108,49.046995794928556],[8.4610869470210908,49.047261885610936],[8.461085287832752,49.047528019617047],[8.461074492777966,49.047794060937505],[8.4610545672466468,49.048059874154596],[8.4609657831538847,49.049007401833819],[8.4608856821766327,49.049955264121394],[8.460902362094803,49.050117170134648],[8.4609290977542866,49.050278492166711],[8.4609658433409898,49.050438961752988],[8.4610125395661111,49.050598309254653],[8.4610691082761633,49.050756269157631],[8.4611354551480904,49.050912576539773],[8.4612114678924861,49.051066970014645],[8.4612970198468922,49.051219192908725],[8.4613919690775017,49.051368989728893],[8.4614961556841308,49.051516109694681],[8.4616094062920073,49.051660306149323],[8.4617315313565751,49.051801340680704],[8.4618623269602598,49.051938973701425],[8.4620015757107669,49.052072977989368],[8.4621490422494876,49.052203129267788],[8.4623044813363482,49.052329209148667],[8.4627617166294424,49.052734459285602],[8.4632112174279612,49.053143432120329],[8.4636529118666335,49.053556065157217],[8.4640867307752217,49.053972291780902],[8.4645126085766673,49.054392050087166],[8.4649304769990916,49.054815271108723],[8.4653402704653757,49.055241891178014],[8.4657419251952213,49.055671843096981],[8.4661353774082038,49.056105059669129],[8.4665205678155147,49.056541472522298],[8.4668974335350917,49.056981015052102],[8.4672659170747515,49.057423617712587],[8.467625960043982,49.057869210959751],[8.4679775058489355,49.058317727017432],[8.4683204996924211,49.058769095168145],[8.469066060954038,49.059598816983659],[8.4693066747028904,49.060010936121849],[8.4695387562531792,49.060425162090482],[8.4697622633840712,49.060841420669711],[8.4699771574680263,49.061259634110179],[8.4701833953859165,49.061679725253597],[8.4703809403067627,49.06210161753252],[8.4705697553997155,49.062525232616245],[8.4707498065287528,49.062950492176476],[8.4709210595578828,49.063377319064656],[8.4710834830460762,49.063805633191663],[8.471173349608776,49.064103352976488],[8.4712737839524959,49.064399610697173],[8.4713847276867256,49.064694245108342],[8.4715061224209531,49.064987094968401],[8.4716379016798626,49.065278001393601],[8.4717799935982487,49.065566803149359],[8.4719323209209971,49.0658533443018],[8.4720947992064115,49.066137467743197],[8.4722673422163091,49.066419017546174],[8.4724498547291933,49.066697840729319],[8.4726422361338223,49.066973784902729],[8.4728443831238973,49.06724669826805],[8.4730561834100175,49.067516433149542],[8.4730934742740924,49.067614107980404],[8.4731396315100209,49.067710135866918],[8.4731944853362169,49.067804166634218],[8.4732578399199454,49.067895862469435],[8.4733294652924815,49.067984890858682],[8.4734091018407351,49.068070931649451],[8.4734964630021299,49.068153671753464],[8.4735912334679497,49.068232814563039],[8.4736930691835077,49.068308072299658],[8.4738016045344526,49.068379173664873],[8.4739402577019174,49.068459710360315],[8.4740720648086345,49.068545066449616],[8.4741966386806578,49.06863498942635],[8.4743136128053695,49.068729215602367],[8.4744226458229726,49.068827468931261],[8.4745234143399788,49.068929459831466],[8.4746156228106102,49.06903488930643],[8.4746990008420422,49.069143446590857],[8.4754382119129108,49.070601076839822],[8.4754832642210403,49.070674551920206],[8.4755183587042477,49.070750335617625],[8.4755432267662627,49.070827845297316],[8.4755576788625664,49.07090648773471],[8.4755616000087635,49.070985660292862],[8.4755549650521029,49.071064753276438],[8.4755378233998204,49.071143162879132],[8.4755103053077363,49.071220285298395],[8.4754726209815647,49.071295530859409],[8.4754250605771695,49.071368321072427],[8.4753679906071682,49.071438098048162],[8.4753018476527835,49.071504326851723],[8.4752271374655788,49.071566500209748],[8.4751444340689357,49.071624139098567],[8.4750543707751724,49.071676803336551],[8.474957641083682,49.071724088052413],[8.4748549852062727,49.071765631335126],[8.4747471882705092,49.071801114233253],[8.4746350812180058,49.071830264285488],[8.4745195219398557,49.071852858462556],[8.4689713057595686,49.073215638562168],[8.4688683435566503,49.073255179763741],[8.468761121542661,49.073289489933998],[8.4686502577584726,49.073318372531617],[8.4685363855164404,49.073341662203191],[8.4684201587900461,49.073359225960317],[8.4683022414342819,49.073370963179116],[8.4681833107788602,49.073376805600184],[8.4680640477467755,49.073376720270716],[8.4679752133483426,49.07335935836818],[8.4678843478590373,49.073347367511943],[8.4677922004738431,49.073340845982059],[8.4676995320657635,49.073339846155299],[8.4676071079994273,49.073344379213125],[8.4675156936394966,49.073354405137422],[8.4674260408758073,49.07336984271474],[8.4673388908185316,49.073390563651614],[8.4672644797702947,49.073398514001703],[8.4671924914783627,49.073413228913445],[8.4671243479758402,49.073434416495637],[8.4670613859559101,49.073461660097436],[8.4670048468902284,49.073494423605695],[8.4669558437914958,49.073532063803789],[8.4669153387553369,49.073573838611402],[8.4668841312823382,49.073618925916861],[8.4668628349219155,49.073666438878227],[8.4668518673906199,49.073715441813157],[8.4668514460807494,49.073764972561392],[8.4668615781788432,49.073814053077641],[8.4668820660555131,49.073861718855461],[8.4669125045705957,49.073907033050141],[8.4687861450132065,49.080741754873465],[8.4728781696600297,49.095938636770867]
            
                ],
                "type": "LineString"

              }
              }]
          
            };
            
      // 'line-gradient' can only be used with GeoJSON sources
      // and the source must have the 'lineMetrics' option set to true
      map.addSource('lineS2', {
        type: 'geojson',
        lineMetrics: true,
        data: geojsonS2
        });
        map.addLayer({
          type: 'line',
          source: 'lineS2',
          id: 'lineS2',
          paint: {
              'line-color': 'red',
              'line-width': 5,
          // 'line-gradient' must be specified using an expression
          // with the special 'line-progress' property
               'line-gradient': [
               'interpolate',
               ['linear'],
               ['line-progress'],
               0, "#41ee41",  //green
               0.1, "#cca100", //yellow
               0.45, "#cc6600",  //orange
               0.5, "#b71515",  //orange
               0.55, "#cc6600",  //orange
               0.8, "#cca100",  //yellow
               1, "#41ee41" //green
              ]
          },
          layout: {
            'line-cap': 'round',
            'line-join': 'round'
          }
        });
        map.on('click', 'lineS2', function (e) {
          new mapboxgl.Popup()
          .setLngLat(e.lngLat)
          .setHTML(e.features[0].properties.Name)
          .addTo(map);
          });
           
          // Change the cursor to a pointer when the mouse is over the states layer.
          map.on('mouseenter', 'lineS2', function () {
          map.getCanvas().style.cursor = 'pointer';
          });
           
          // Change it back to a pointer when it leaves.
          map.on('mouseleave', 'lineS2', function () {
          map.getCanvas().style.cursor = '';
          });

  }




              